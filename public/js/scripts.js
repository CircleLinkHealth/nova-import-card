!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.BlueButton=t()}(this,function(){var e=function(){var t=function(t){if(t=s(t),"<"===t.charAt(0))try{return e.XML.parse(t)}catch(a){console.log}try{return JSON.parse(t)}catch(a){throw console.error,a}},s=function(e){return e?e.replace(/^\s+|\s+$/g,""):e},a=function(){var e=function(e){return 10>e?"0"+e:e},t=function(t,s){var a=this[t];return s&&a instanceof Date&&!isNaN(a.getTime())?a._parsedWithTimeData||a.getHours()||a.getMinutes()||a.getSeconds()||a.getMilliseconds()?a.getUTCFullYear()+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":e(a.getMonth()+1)+"/"+e(a.getDate())+"/"+a.getFullYear():s};return JSON.stringify(this,t,2)},i=function(e){var t;for(var s in e)e.hasOwnProperty(s)&&(t=e[s],null===t&&delete e[s],t instanceof Object&&(t=i(t)));return e};return{parseData:t,stripWhitespace:s,json:a,trim:i}}();e.Codes=function(){var e={F:"female",M:"male",UN:"undifferentiated"},t={N:"annulled",C:"common law",D:"divorced",P:"domestic partner",I:"interlocutory",E:"legally separated",G:"living together",M:"married",O:"other",R:"registered domestic partner",A:"separated",S:"single",U:"unknown",B:"unmarried",T:"unreported",W:"widowed"},s={H:"home",HP:"home",MC:"mobile",WP:"work"},a={1001:"adventist",1002:"african religions",1003:"afro-caribbean religions",1004:"agnosticism",1005:"anglican",1006:"animism",1061:"assembly of god",1007:"atheism",1008:"babi & baha'i faiths",1009:"baptist",1010:"bon",1062:"brethren",1011:"cao dai",1012:"celticism",1013:"christian (non-catholic, non-specific)",1063:"christian scientist",1064:"church of christ",1065:"church of god",1014:"confucianism",1066:"congregational",1015:"cyberculture religions",1067:"disciples of christ",1016:"divination",1068:"eastern orthodox",1069:"episcopalian",1070:"evangelical covenant",1017:"fourth way",1018:"free daism",1071:"friends",1072:"full gospel",1019:"gnosis",1020:"hinduism",1021:"humanism",1022:"independent",1023:"islam",1024:"jainism",1025:"jehovah's witnesses",1026:"judaism",1027:"latter day saints",1028:"lutheran",1029:"mahayana",1030:"meditation",1031:"messianic judaism",1073:"methodist",1032:"mitraism",1074:"native american",1075:"nazarene",1033:"new age",1034:"non-roman catholic",1035:"occult",1036:"orthodox",1037:"paganism",1038:"pentecostal",1076:"presbyterian",1039:"process, the",1077:"protestant",1078:"protestant, no denomination",1079:"reformed",1040:"reformed/presbyterian",1041:"roman catholic church",1080:"salvation army",1042:"satanism",1043:"scientology",1044:"shamanism",1045:"shiite (islam)",1046:"shinto",1047:"sikism",1048:"spiritualism",1049:"sunni (islam)",1050:"taoism",1051:"theravada",1081:"unitarian universalist",1052:"unitarian-universalism",1082:"united church of christ",1053:"universal life church",1054:"vajrayana (tibetan)",1055:"veda",1056:"voodoo",1057:"wicca",1058:"yaohushua",1059:"zen buddhism",1060:"zoroastrianism"},i={"2028-9":"asian","2054-5":"black or african american","2135-2":"hispanic or latino","2076-8":"native","2186-5":"not hispanic or latino","2131-1":"other","2106-3":"white"},n={ACC:"accident site",ACHFID:"accreditation location identifier",ACTMIL:"active duty military",AGNT:"agent",ALL:"allergy clinic",AMB:"ambulance",AMPUT:"amputee clinic",ANTIBIOT:"antibiotic",ASSIST:"assistive non-person living subject",AUNT:"aunt",B:"blind",BF:"beef",BILL:"billing contact",BIOTH:"biotherapeutic non-person living subject",BL:"broiler",BMTC:"bone marrow transplant clinic",BMTU:"bone marrow transplant unit",BR:"breeder",BREAST:"breast clinic",BRO:"brother",BROINLAW:"brother-in-law",C:"calibrator",CANC:"child and adolescent neurology clinic",CAPC:"child and adolescent psychiatry clinic",CARD:"ambulatory health care facilities; clinic/center; rehabilitation: cardiac facilities",CAREGIVER:"care giver",CAS:"asylum seeker",CASM:"single minor asylum seeker",CATH:"cardiac catheterization lab",CCO:"clinical companion",CCU:"coronary care unit",CHEST:"chest unit",CHILD:"child",CHLDADOPT:"adopted child",CHLDFOST:"foster child",CHLDINLAW:"child in-law",CHR:"chronic care facility",CLAIM:"claimant",CN:"national",CNRP:"non-country member without residence permit",CNRPM:"non-country member minor without residence permit",CO:"companion",COAG:"coagulation clinic",COCBEN:"continuity of coverage beneficiary",COMM:"community location",COMMUNITYLABORATORY:"community laboratory",COUSN:"cousin",CPCA:"permit card applicant",CRIMEVIC:"crime victim",CRP:"non-country member with residence permit",CRPM:"non-country member minor with residence permit",CRS:"colon and rectal surgery clinic",CSC:"community service center",CVDX:"cardiovascular diagnostics or therapeutics unit",DA:"dairy",DADDR:"delivery address",DAU:"natural daughter",DAUADOPT:"adopted daughter",DAUC:"daughter",DAUFOST:"foster daughter",DAUINLAW:"daughter in-law",DC:"therapeutic class",DEBR:"debridement",DERM:"dermatology clinic",DIFFABL:"differently abled",DOMPART:"domestic partner",DPOWATT:"durable power of attorney",DR:"draft",DU:"dual",DX:"diagnostics or therapeutics unit",E:"electronic qc",ECHO:"echocardiography lab",ECON:"emergency contact",ENDO:"endocrinology clinic",ENDOS:"endoscopy lab",ENROLBKR:"enrollment broker",ENT:"otorhinolaryngology clinic",EPIL:"epilepsy unit",ER:"emergency room",ERL:"enrollment",ETU:"emergency trauma unit",EXCEST:"executor of estate",EXT:"extended family member",F:"filler proficiency",FAMDEP:"family dependent",FAMMEMB:"family member",FI:"fiber",FMC:"family medicine clinic",FRND:"unrelated friend",FSTUD:"full-time student",FTH:"father",FTHINLAW:"father-in-law",FULLINS:"fully insured coverage sponsor",G:"group",GACH:"hospitals; general acute care hospital",GD:"generic drug",GDF:"generic drug form",GDS:"generic drug strength",GDSF:"generic drug strength form",GGRFTH:"great grandfather",GGRMTH:"great grandmother",GGRPRN:"great grandparent",GI:"gastroenterology clinic",GIDX:"gastroenterology diagnostics or therapeutics lab",GIM:"general internal medicine clinic",GRFTH:"grandfather",GRMTH:"grandmother",GRNDCHILD:"grandchild",GRNDDAU:"granddaughter",GRNDSON:"grandson",GRPRN:"grandparent",GT:"guarantor",GUADLTM:"guardian ad lidem",GUARD:"guardian",GYN:"gynecology clinic",HAND:"hand clinic",HANDIC:"handicapped dependent",HBRO:"half-brother",HD:"hemodialysis unit",HEM:"hematology clinic",HLAB:"hospital laboratory",HOMEHEALTH:"home health",HOSP:"hospital",HPOWATT:"healthcare power of attorney",HRAD:"radiology unit",HSIB:"half-sibling",HSIS:"half-sister",HTN:"hypertension clinic",HU:"hospital unit",HUSB:"husband",HUSCS:"specimen collection site",ICU:"intensive care unit",IEC:"impairment evaluation center",INDIG:"member of an indigenous people",INFD:"infectious disease clinic",INJ:"injured plaintiff",INJWKR:"injured worker",INLAB:"inpatient laboratory",INPHARM:"inpatient pharmacy",INV:"infertility clinic",JURID:"jurisdiction location identifier",L:"pool",LABORATORY:"laboratory",LOCHFID:"local location identifier",LY:"layer",LYMPH:"lympedema clinic",MAUNT:"maternalaunt",MBL:"medical laboratory",MCOUSN:"maternalcousin",MGDSF:"manufactured drug strength form",MGEN:"medical genetics clinic",MGGRFTH:"maternalgreatgrandfather",MGGRMTH:"maternalgreatgrandmother",MGGRPRN:"maternalgreatgrandparent",MGRFTH:"maternalgrandfather",MGRMTH:"maternalgrandmother",MGRPRN:"maternalgrandparent",MHSP:"military hospital",MIL:"military",MOBL:"mobile unit",MT:"meat",MTH:"mother",MTHINLAW:"mother-in-law",MU:"multiplier",MUNCLE:"maternaluncle",NBOR:"neighbor",NBRO:"natural brother",NCCF:"nursing or custodial care facility",NCCS:"neurology critical care and stroke unit",NCHILD:"natural child",NEPH:"nephrology clinic",NEPHEW:"nephew",NEUR:"neurology clinic",NFTH:"natural father",NFTHF:"natural father of fetus",NIECE:"niece",NIENEPH:"niece/nephew",NMTH:"natural mother",NOK:"next of kin",NPRN:"natural parent",NS:"neurosurgery unit",NSIB:"natural sibling",NSIS:"natural sister",O:"operator proficiency",OB:"obstetrics clinic",OF:"outpatient facility",OMS:"oral and maxillofacial surgery clinic",ONCL:"medical oncology clinic",OPH:"opthalmology clinic",OPTC:"optometry clinic",ORG:"organizational contact",ORTHO:"orthopedics clinic",OUTLAB:"outpatient laboratory",OUTPHARM:"outpatient pharmacy",P:"patient",PAINCL:"pain clinic",PATHOLOGIST:"pathologist",PAUNT:"paternalaunt",PAYOR:"payor contact",PC:"primary care clinic",PCOUSN:"paternalcousin",PEDC:"pediatrics clinic",PEDCARD:"pediatric cardiology clinic",PEDE:"pediatric endocrinology clinic",PEDGI:"pediatric gastroenterology clinic",PEDHEM:"pediatric hematology clinic",PEDHO:"pediatric oncology clinic",PEDICU:"pediatric intensive care unit",PEDID:"pediatric infectious disease clinic",PEDNEPH:"pediatric nephrology clinic",PEDNICU:"pediatric neonatal intensive care unit",PEDRHEUM:"pediatric rheumatology clinic",PEDU:"pediatric unit",PGGRFTH:"paternalgreatgrandfather",PGGRMTH:"paternalgreatgrandmother",PGGRPRN:"paternalgreatgrandparent",PGRFTH:"paternalgrandfather",PGRMTH:"paternalgrandmother",PGRPRN:"paternalgrandparent",PH:"policy holder",PHARM:"pharmacy",PHLEBOTOMIST:"phlebotomist",PHU:"psychiatric hospital unit",PL:"pleasure",PLS:"plastic surgery clinic",POD:"podiatry clinic",POWATT:"power of attorney",PRC:"pain rehabilitation center",PREV:"preventive medicine clinic",PRN:"parent",PRNINLAW:"parent in-law",PROCTO:"proctology clinic",PROFF:"provider's office",PROG:"program eligible",PROS:"prosthodontics clinic",PRS:"personal relationship",PSI:"psychology clinic",PSTUD:"part-time student",PSY:"psychiatry clinic",PSYCHF:"psychiatric care facility",PT:"patient",PTRES:"patient's residence",PUNCLE:"paternaluncle",Q:"quality control",R:"replicate",RADDX:"radiology diagnostics or therapeutics unit",RADO:"radiation oncology unit",RC:"racing",RESPRSN:"responsible party",RETIREE:"retiree",RETMIL:"retired military",RH:"rehabilitation hospital",RHAT:"addiction treatment center",RHEUM:"rheumatology clinic",RHII:"intellectual impairment center",RHMAD:"parents with adjustment difficulties center",RHPI:"physical impairment center",RHPIH:"physical impairment - hearing center",RHPIMS:"physical impairment - motor skills center",RHPIVS:"physical impairment - visual skills center",RHU:"rehabilitation hospital unit",RHYAD:"youths with adjustment difficulties center",RNEU:"neuroradiology unit",ROOM:"roommate",RTF:"residential treatment facility",SCHOOL:"school",SCN:"screening",SEE:"seeing",SELF:"self",SELFINS:"self insured coverage sponsor",SH:"show",SIB:"sibling",SIBINLAW:"sibling in-law",SIGOTHR:"significant other",SIS:"sister",SISINLAW:"sister-in-law",SLEEP:"sleep disorders unit",SNF:"skilled nursing facility",SNIFF:"sniffing",SON:"natural son",SONADOPT:"adopted son",SONC:"son",SONFOST:"foster son",SONINLAW:"son in-law",SPMED:"sports medicine clinic",SPON:"sponsored dependent",SPOWATT:"special power of attorney",SPS:"spouse",STPBRO:"stepbrother",STPCHLD:"step child",STPDAU:"stepdaughter",STPFTH:"stepfather",STPMTH:"stepmother",STPPRN:"step parent",STPSIB:"step sibling",STPSIS:"stepsister",STPSON:"stepson",STUD:"student",SU:"surgery clinic",SUBJECT:"self",SURF:"substance use rehabilitation facility",THIRDPARTY:"third party",TPA:"third party administrator",TR:"transplant clinic",TRAVEL:"travel and geographic medicine clinic",TRB:"tribal member",UMO:"utilization management organization",UNCLE:"uncle",UPC:"underage protection center",URO:"urology clinic",V:"verifying",VET:"veteran",VL:"veal",WARD:"ward",WIFE:"wife",WL:"wool",WND:"wound clinic",WO:"working",WORK:"work site"},r={55561003:"active",73425007:"inactive",90734009:"chronic",7087005:"intermittent",255227004:"recurrent",413322009:"resolved",415684004:"rule out",410516002:"ruled out"},o=function(e){for(var t={},s=Object.keys(e),a=0,i=s.length;i>a;a++)t[e[s[a]]]=s[a];return t},l=function(e){return function(t){return e[t]||null}},d=function(e){return function(t){if(!t)return null;var s=o(e);return t=t.toLowerCase(),s[t]||null}};return{gender:l(e),reverseGender:d(e),maritalStatus:l(t),phone:l(s),reverseMaritalStatus:d(t),religion:l(a),reverseReligion:d(a),raceEthnicity:l(i),reverseRaceEthnicity:d(i),role:l(n),reverseRole:d(n),problemStatus:l(r),reverseProblemStatus:d(r)}}(),e.XML=function(){var t,s=function(e){function t(e){return{el:e,template:i,content:n,tag:r,immediateChildTag:o,immediateChildrenTags:l,elsByTag:d,attr:h,boolAttr:p,val:m,isEmpty:_}}if(e.length){for(var s=[],a=0;a<e.length;a++)s.push(t(e[a]));return s}return t(e)},a=function(e,t,s,a){e=e.getElementsByTagName(t);for(var i=0;i<e.length;i++)if(e[i].getAttribute(s)===a)return e[i]},i=function(e){var t=a(this.el,"templateId","root",e);return t?s(t.parentNode):u()},n=function(e){var t=a(this.el,"content","ID",e);return t||(t=a(this.el,"td","ID",e)),t||(t=a(this.el,"caption","ID",e)||a(this.el,"paragraph","ID",e)||a(this.el,"tr","ID",e)||a(this.el,"item","ID",e)),t?s(t):u()},r=function(e){var t=this.el.getElementsByTagName(e)[0];return t?s(t):u()},o=function(e){var t=this.el.getElementsByTagName(e);if(!t)return null;for(var a=0;a<t.length;a++)if(t[a].parentNode===this.el)return s(t[a]);return u()},l=function(e){var t=this.el.getElementsByTagName(e);if(!t)return null;for(var a=[],i=0;i<t.length;i++)t[i].parentNode===this.el&&a.push(s(t[i]));return a},d=function(e){return s(this.el.getElementsByTagName(e))},c=function(e){return e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):e},h=function(e){if(!this.el)return null;var t=this.el.getAttribute(e);return t?c(t):null},p=function(e){var t=this.attr(e);return"true"===t||"1"===t?!0:!1},m=function(){if(!this.el)return null;if(!this.el.childNodes||!this.el.childNodes.length)return null;var t=this.el.textContent;if(!e.stripWhitespace(t)){var a;if(1===this.el.childNodes.length&&"reference"===this.el.childNodes[0].tagName)a=this.el.childNodes[0].getAttribute("value");else{if(3!==this.el.childNodes.length||"reference"!==this.el.childNodes[1].tagName)return c(t);a=this.el.childNodes[1].getAttribute("value")}if(a&&"#"===a[0]){a=a.slice(1);var i=s(this.el.ownerDocument),n=i.content(a);return n.val()}}return c(t)},u=function(){var e=y.createElement("empty");return s(e)},_=function(){return"empty"===this.el.tagName.toLowerCase()?!0:!1},C=function(e){if(!e||"string"!=typeof e)return null;var a,i;if(E)i=new t.DOMParser,a=i.parseFromString(e,"text/xml");else if(window.DOMParser)i=new DOMParser,a=i.parseFromString(e,"text/xml"),a.getElementsByTagName("parsererror").length&&(e=e.replace(/&/g,"&amp;"),a=i.parseFromString(e,"text/xml"));else try{a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(e)}catch(n){}return a&&a.documentElement&&!a.getElementsByTagName("parsererror").length?s(a):null},g=this,E=!1,y=g.document;return"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(E=!0,t=require("xmldom"),y=(new t.DOMImplementation).createDocument()),{parse:C}}();var t=function(){function t(e){e=e||"";var t=e.match(o)||[],a=t[t.length-1]||[],i=(a+"").match(r)||["-",0,0],n=+(60*i[1])+s(i[2]);return"+"===i[0]?n:-n}function s(e){var t=+e,s=0;return 0!==t&&isFinite(t)&&(s=t>=0?Math.floor(t):Math.ceil(t)),s}var a=function(e){return e.template?e.template("2.16.840.1.113883.3.88.11.32.1").isEmpty()?e.template("2.16.840.1.113883.10.20.22.1.1").isEmpty()?void 0:"ccda":"c32":"json"},i=function(){var e=function(e){for(var t=0;t<this.length;t++)e(this[t])},t=this.elsByTag("entry");return t.each=e,t},n=function(e){if(!e||"string"!=typeof e)return null;if(4===e.length)return new Date(e,0,1);var a=e.substr(0,4),i=parseInt(e.substr(4,2),10)-1,n=e.substr(6,2)||1;if(e.length>=12){var r=e.substr(8,2),o=e.substr(10,2),l=e.substr(12,2);if(e.length>14){var d=t(e.substr(14));o=s(o)-d}var c=new Date(Date.UTC(a,i,n,r,o,l));return c._parsedWithTimeData=!0,c}return new Date(a,i,n)},r=/([\+\-]|\d\d)/gi,o=/Z|[\+\-]\d\d:?\d\d/gi,l=function(e){for(var t=e.tag("prefix").val(),s=e.elsByTag("given"),a=[],i=0;i<s.length;i++){var n=s[i].val();n&&a.push(n)}var r=e.tag("family").val(),o=e.tag("suffix").val();return{prefix:t,given:a,family:r,suffix:o}},d=function(e){for(var t=e.elsByTag("streetAddressLine"),s=[],a=0;a<t.length;a++){var i=t[a].val();i&&s.push(i)}var n=e.tag("city").val(),r=e.tag("state").val(),o=e.tag("postalCode").val(),l=e.tag("country").val();return{street:s,city:n,state:r,zip:o,country:l}},c=function(e){var t=e.map(function(e){return{extension:e.attr("extension"),root:e.attr("root"),assigningAuthorityName:e.attr("assigningAuthorityName")}});return t},h=function(t){var s=t.map(function(t){return{type:e.Codes.phone(t.attr("use")),number:t.attr("value")}});return s};return"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports={parseDate:n}),{detect:a,entries:i,parseDate:n,parseName:l,parseAddress:d,parseIds:c,parsePhones:h}}();t.C32=function(){var e=function(e){return e.section=s,e},s=function(e){var s,a=t.entries;switch(e){case"document":return this.template("2.16.840.1.113883.3.88.11.32.1");case"allergies":return s=this.template("2.16.840.1.113883.3.88.11.83.102"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.2")),s.entries=a,s;case"demographics":return this.template("2.16.840.1.113883.3.88.11.32.1");case"encounters":return s=this.template("2.16.840.1.113883.3.88.11.83.127"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.3")),s.entries=a,s;case"immunizations":return s=this.template("2.16.840.1.113883.3.88.11.83.117"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.6")),s.entries=a,s;case"results":return s=this.template("2.16.840.1.113883.3.88.11.83.122"),s.entries=a,s;case"medications":return s=this.template("2.16.840.1.113883.3.88.11.83.112"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.8")),s.entries=a,s;case"problems":return s=this.template("2.16.840.1.113883.3.88.11.83.103"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.11")),s.entries=a,s;case"procedures":return s=this.template("2.16.840.1.113883.3.88.11.83.108"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.12")),s.entries=a,s;case"vitals":return s=this.template("2.16.840.1.113883.3.88.11.83.119"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.1.16")),s.entries=a,s}return null};return{process:e,section:s}}(),t.CCDA=function(){var e=function(e){return e.section=s,e},s=function(e){var s,a=t.entries;switch(e){case"document":return this.template("2.16.840.1.113883.10.20.22.1.1");case"allergies":return s=this.template("2.16.840.1.113883.10.20.22.2.6.1"),s.entries=a,s;case"care_plan":return s=this.template("2.16.840.1.113883.10.20.22.2.10"),s.entries=a,s;case"chief_complaint":return s=this.template("2.16.840.1.113883.10.20.22.2.13"),s.isEmpty()&&(s=this.template("1.3.6.1.4.1.19376.1.5.3.1.1.13.2.1")),s;case"demographics":return this.template("2.16.840.1.113883.10.20.22.1.1");case"encounters":return s=this.template("2.16.840.1.113883.10.20.22.2.22"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.22.1")),s.entries=a,s;case"functional_statuses":return s=this.template("2.16.840.1.113883.10.20.22.2.14"),s.entries=a,s;case"immunizations":return s=this.template("2.16.840.1.113883.10.20.22.2.2.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.2")),s.entries=a,s;case"instructions":return s=this.template("2.16.840.1.113883.10.20.22.2.45"),s.entries=a,s;case"results":return s=this.template("2.16.840.1.113883.10.20.22.2.3.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.3")),s.entries=a,s;case"medications":return s=this.template("2.16.840.1.113883.10.20.22.2.1.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.1")),s.entries=a,s;case"problems":return s=this.template("2.16.840.1.113883.10.20.22.2.5.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.5")),s.entries=a,s;case"procedures":return s=this.template("2.16.840.1.113883.10.20.22.2.7.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.7")),s.entries=a,s;case"social_history":return s=this.template("2.16.840.1.113883.10.20.22.2.17"),s.entries=a,s;case"vitals":return s=this.template("2.16.840.1.113883.10.20.22.2.4.1"),s.isEmpty()&&(s=this.template("2.16.840.1.113883.10.20.22.2.4")),s.entries=a,s}return null};return{process:e,section:s}}();var s=function(){var e=function(){};if("undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(ejs=require("ejs")),"undefined"!=typeof ejs){var t=function(e){return 10>e?"0"+e:String(e)};ejs.filters.hl7Date=function(e){try{if(null===e||void 0===e)return'nullFlavor="UNK"';var s=new Date(e);if(isNaN(s.getTime()))return e;var a=null;if(s.getHours()||s.getMinutes()||s.getSeconds()){a=s.getUTCFullYear()+t(s.getUTCMonth()+1)+t(s.getUTCDate());var i=t(s.getUTCHours())+t(s.getUTCMinutes())+t(s.getUTCSeconds())+"+0000";return'value="'+a+i+'"'}return a=String(s.getFullYear())+t(s.getMonth()+1)+t(s.getDate()),'value="'+a+'"'}catch(n){return e}};var s=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};ejs.filters.hl7Code=function(e){if(!e)return"";var t="",a=e.name||"";return e.name&&(t+='displayName="'+s(a)+'"'),e.code?(t+=' code="'+e.code+'"',e.code_system&&(t+=' codeSystem="'+s(e.code_system)+'"'),e.code_system_name&&(t+=' codeSystemName="'+s(e.code_system_name)+'"')):t+=' nullFlavor="UNK"',e.name||e.code?t:'nullFlavor="UNK"'},ejs.filters.emptyStringIfFalsy=function(e){return e?e:""},ejs.helpers||(ejs.helpers={}),ejs.helpers.simpleTag=function(e,t){return t?"<"+e+">"+t+"</"+e+">":"<"+e+' nullFlavor="UNK" />'},ejs.helpers.addressTags=function(e){if(!e)return'<streetAddressLine nullFlavor="NI" />\n<city nullFlavor="NI" />\n<state nullFlavor="NI" />\n<postalCode nullFlavor="NI" />\n<country nullFlavor="NI" />\n';var t="";if(e.street.length)for(var s=0;s<e.street.length;s++)t+=ejs.helpers.simpleTag("streetAddressLine",e.street[s])+"\n";else t+=ejs.helpers.simpleTag("streetAddressLine",null)+"\n";return t+=ejs.helpers.simpleTag("city",e.city)+"\n",t+=ejs.helpers.simpleTag("state",e.state)+"\n",t+=ejs.helpers.simpleTag("postalCode",e.zip)+"\n",t+=ejs.helpers.simpleTag("country",e.country)+"\n"},ejs.helpers.nameTags=function(e){if(!e)return'<given nullFlavor="NI" />\n<family nullFlavor="NI" />\n';var t="";if(e.prefix&&(t+=ejs.helpers.simpleTag("prefix",e.prefix)+"\n"),e.given.length)for(var s=0;s<e.given.length;s++)t+=ejs.helpers.simpleTag("given",e.given[s])+"\n";else t+=ejs.helpers.simpleTag("given",null)+"\n";return t+=ejs.helpers.simpleTag("family",e.family)+"\n",e.suffix&&(t+=ejs.helpers.simpleTag("suffix",e.suffix)+"\n"),t}}return{method:e}}();s.C32=function(){var e=function(e,t,s){return null};return{run:e}}(),s.CCDA=function(){var t=function(t,s,a){if(!ejs)return null;if(!s)return null;var i=a?new Date("2000-01-01T12:00:00Z"):new Date,n=ejs.render(s,{filename:"ccda.xml",bb:t,now:i,tagHelpers:ejs.helpers,codes:e.Codes});return n};return{run:t}}();var a=function(){var e=function(){};return{method:e}}();a.C32=function(){var t=function(t){var s={};return s.document=a.C32.document(t),s.allergies=a.C32.allergies(t),s.demographics=a.C32.demographics(t),s.encounters=a.C32.encounters(t),s.immunizations=a.C32.immunizations(t).administered,s.immunization_declines=a.C32.immunizations(t).declined,s.results=a.C32.results(t),s.medications=a.C32.medications(t),s.problems=a.C32.problems(t),s.procedures=a.C32.procedures(t),s.vitals=a.C32.vitals(t),s.json=e.json,s.document.json=e.json,s.allergies.json=e.json,s.demographics.json=e.json,s.encounters.json=e.json,s.immunizations.json=e.json,s.immunization_declines.json=e.json,s.results.json=e.json,s.medications.json=e.json,s.problems.json=e.json,s.procedures.json=e.json,s.vitals.json=e.json,s.smoking_status={date:null,name:null,code:null,code_system:null,code_system_name:null},s.smoking_status.json=e.json,s.chief_complaint={text:null},s.chief_complaint.json=e.json,s.care_plan=[],s.care_plan.json=e.json,s.instructions=[],s.instructions.json=e.json,s.functional_statuses=[],s.functional_statuses.json=e.json,s};return{run:t}}(),a.C32.document=function(s){var a,i=t.parseDate,n=t.parseName,r=t.parseAddress,o=t.parseIds,l=t.parsePhones,d={},c=s.section("document"),h=i(c.tag("effectiveTime").attr("value")),p=e.stripWhitespace(c.tag("title").val()),m=c.tag("author");a=m.tag("assignedPerson").tag("name");var u=n(a);u.prefix||u.given.length||u.family||(u.family=a.val()),a=m.tag("addr");var _=r(a);a=m.tag("assignedAuthor").immediateChildrenTags("telecom");for(var C=l(a),g=[],E=c.tag("documentationOf").elsByTag("performer"),y=0;y<E.length;y++){a=E[y].tag("assignedPerson").tag("name");var f=n(a),v=E[y].tag("telecom").attr("value"),L=r(a.tag("addr"));g.push({name:f,phone:{work:v},address:L})}a=c.tag("legalAuthenticator");var S=i(a.tag("time").attr("value")),T=n(a.tag("assignedPerson").tag("name")),I=r(a.tag("representedOrganization").tag("addr")),b=a.tag("assignedEntity").immediateChildrenTags("id"),N=o(b),A=a.tag("representedOrganization").immediateChildrenTags("id"),R=o(A),D=a.tag("representedOrganization").tag("name").val(),P=a.tag("representedOrganization").immediateChildrenTags("telecom"),O=l(P);a=c.tag("encompassingEncounter");var w=e.stripWhitespace(a.tag("name").val()),M=r(a.tag("addr")),H=null;return a=a.tag("effectiveTime"),a.isEmpty()||(H=i(a.attr("value"))),d={date:h,title:p,author:{name:u,address:_,phones:C},documentation_of:g,legal_authenticator:{date:S,ids:N,assigned_person:T,representedOrganization:{ids:R,name:D,phones:O,address:I}},location:{name:w,address:M,encounter_date:H}}},a.C32.allergies=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("allergies");return r.entries().each(function(t){a=t.tag("effectiveTime");var s=i(a.tag("low").attr("value")),r=i(a.tag("high").attr("value"));a=t.template("2.16.840.1.113883.3.88.11.83.6").tag("code");var o=a.attr("displayName"),l=a.attr("code"),d=a.attr("codeSystem"),c=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.3.88.11.83.6").tag("value");var h=a.attr("displayName"),p=a.attr("code"),m=a.attr("codeSystem"),u=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.1.54").tag("value");var _=a.attr("displayName"),C=a.attr("code"),g=a.attr("codeSystem");_||(a=t.template("2.16.840.1.113883.10.20.1.54").tag("text"),a.isEmpty()||(_=e.stripWhitespace(a.val()))),a=t.template("2.16.840.1.113883.10.20.1.55").tag("value");var E=a.attr("displayName");a=t.tag("participant").tag("code");var y=a.attr("displayName"),f=a.attr("code"),v=a.attr("codeSystem"),L=a.attr("codeSystemName");y||(a=t.tag("participant").tag("name"),a.isEmpty()||(y=a.val())),y||(a=t.template("2.16.840.1.113883.3.88.11.83.6").tag("originalText"),a.isEmpty()||(y=e.stripWhitespace(a.val()))),a=t.template("2.16.840.1.113883.10.20.1.39").tag("value");var S=a.attr("displayName");n.push({date_range:{start:s,end:r},name:o,code:l,code_system:d,code_system_name:c,status:S,severity:E,reaction:{name:_,code:C,code_system:g},reaction_type:{name:h,code:p,code_system:m,code_system_name:u},allergen:{name:y,code:f,code_system:v,code_system_name:L}})}),n},a.C32.demographics=function(s){var a,i=t.parseDate,n=t.parseName,r=t.parseAddress,o=t.parsePhones,l=t.parseIds,d={},c=s.section("demographics"),h=c.tag("patientRole");a=h.tag("patient").tag("name");var p=n(a),m=h.tag("id").attr("extension");a=h.tag("patient");var u=i(a.tag("birthTime").attr("value")),_=e.Codes.gender(a.tag("administrativeGenderCode").attr("code")),C=e.Codes.maritalStatus(a.tag("maritalStatusCode").attr("code"));a=h.tag("addr");var g=r(a);a=h.immediateChildrenTags("telecom");var E=o(a),y=null,f=h.tag("languageCommunication").tag("languageCode").attr("code"),v=h.tag("raceCode").attr("displayName"),L=h.tag("ethnicGroupCode").attr("displayName"),S=h.tag("religiousAffiliationCode").attr("displayName");a=h.tag("birthplace");var T=r(a);a=h.tag("guardian");var I=a.tag("code").attr("displayName"),b=a.tag("code").attr("code"),N=a.tag("telecom").attr("value");a=a.tag("guardianPerson").tag("name");var A=n(a);a=h.tag("guardian").tag("addr");var R=r(a);a=h.tag("providerOrganization");var D=a.tag("name").val(),P=a.tag("telecom").attr("value"),O=r(a.tag("addr")),w=l(a.immediateChildrenTags("id"));a=c.immediateChildrenTags("participant");var M=a.map(function(t){return t=t.tag("associatedEntity"),{relationship:e.Codes.role(t.attr("classCode")),relationship_code:{code:t.tag("code").attr("code"),displayName:t.tag("code").attr("displayName")},phones:o(t.immediateChildrenTags("telecom")),name:n(t.tag("associatedPerson").tag("name"))}});return d={name:p,dob:u,gender:_,mrn_number:m,marital_status:C,address:g,phones:E,email:y,language:f,race:v,ethnicity:L,religion:S,birthplace:{state:T.state,zip:T.zip,country:T.country},guardian:{name:{given:A.given,family:A.family},relationship:I,relationship_code:b,address:R,phone:{home:N}},patient_contacts:M,provider:{ids:w,organization:D,phone:P,address:O}}},a.C32.encounters=function(e){var s,a=t.parseDate,i=(t.parseName,t.parseAddress),n=t.parseIds,r=[],o=e.section("encounters");return o.entries().each(function(e){var t=a(e.tag("effectiveTime").attr("value"));t||(t=a(e.tag("effectiveTime").tag("low").attr("value"))),s=e.tag("code");var o=s.attr("displayName"),l=s.attr("code"),d=s.attr("codeSystem"),c=s.attr("codeSystemName"),h=s.attr("codeSystemVersion");s=e.tag("translation");var p=s.attr("displayName"),m=s.attr("code"),u=s.attr("codeSystem"),_=s.attr("codeSystemName");s=e.tag("performer");var C=s.tag("name").val(),g=s.attr("code"),E=s.attr("codeSystem"),y=s.attr("codeSystemName"),f=n(e.tag("performer").tag("assignedEntity").immediateChildrenTags("id"));s=e.tag("participant");var v=s.tag("name").val(),L=i(s);L.organization=v;for(var S=[],T=e.elsByTag("entryRelationship"),I=0;I<T.length;I++)s=T[I].tag("value"),S.push({name:s.attr("displayName"),code:s.attr("code"),code_system:s.attr("codeSystem")});r.push({date:t,name:o,code:l,code_system:d,code_system_name:c,code_system_version:h,findings:S,translation:{name:p,code:m,code_system:u,code_system_name:_},performer:{ids:f,name:C,code:g,code_system:E,code_system_name:y},location:L})}),r},a.C32.immunizations=function(s){var a,i,n=t.parseDate,r=(t.parseName,t.parseAddress,[]),o=[],l=s.section("immunizations");return l.entries().each(function(t){a=t.tag("effectiveTime");var s=n(a.attr("value"));s||(s=n(a.tag("low").attr("value"))),a=t.tag("substanceAdministration");var l=a.boolAttr("negationInd");i=t.template("2.16.840.1.113883.10.20.1.53"),a=i.tag("code");var d=a.attr("displayName"),c=a.attr("code"),h=a.attr("codeSystem"),p=a.attr("codeSystemName");a=i.tag("translation");var m=a.attr("displayName"),u=a.attr("code"),_=a.attr("codeSystem"),C=a.attr("codeSystemName");a=i.tag("lotNumberText");var g=a.val();a=i.tag("manufacturerOrganization");var E=a.tag("name").val();a=t.tag("routeCode");var y=a.attr("displayName"),f=a.attr("code"),v=a.attr("codeSystem"),L=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.1.49");var S=e.stripWhitespace(a.tag("text").val());a=a.tag("code");var T=a.attr("displayName"),I=a.attr("code"),b=a.attr("codeSystem");a=t.tag("doseQuantity");var N=a.attr("value"),A=a.attr("unit"),R=l?o:r;R.push({date:s,product:{name:d,code:c,code_system:h,code_system_name:p,translation:{name:m,code:u,code_system:_,code_system_name:C},lot_number:g,manufacturer_name:E},dose_quantity:{value:N,unit:A},route:{name:y,code:f,code_system:v,code_system_name:L},instructions:S,education_type:{name:T,code:I,code_system:b}})}),{administered:r,declined:o}},a.C32.results=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("results");return r.entries().each(function(t){a=t.tag("effectiveTime");var s=i(t.tag("effectiveTime").attr("value"));s||(s=i(t.tag("effectiveTime").tag("low").attr("value"))),a=t.tag("code");for(var r,o=a.attr("displayName"),l=a.attr("code"),d=a.attr("codeSystem"),c=a.attr("codeSystemName"),h=t.elsByTag("observation"),p=[],m=0;m<h.length;m++)if(r=h[m],
r.template("2.16.840.1.113883.10.20.1.31").val()){var u=i(r.tag("effectiveTime").attr("value"));a=r.tag("code");var _=a.attr("displayName"),C=a.attr("code"),g=a.attr("codeSystem"),E=a.attr("codeSystemName");_||(_=e.stripWhitespace(r.tag("text").val())),a=r.tag("translation");var y=a.attr("displayName"),f=a.attr("code"),v=a.attr("codeSystem"),L=a.attr("codeSystemName");a=r.tag("value");var S=a.attr("value"),T=a.attr("unit");S&&!isNaN(parseFloat(S))&&(S=parseFloat(S)),S||(S=a.val()),a=r.tag("referenceRange");var I=e.stripWhitespace(a.tag("observationRange").tag("text").val()),b=a.tag("observationRange").tag("low").attr("unit"),N=a.tag("observationRange").tag("low").attr("value"),A=a.tag("observationRange").tag("high").attr("unit"),R=a.tag("observationRange").tag("high").attr("value");p.push({date:u,name:_,value:S,unit:T,code:C,code_system:g,code_system_name:E,translation:{name:y,code:f,code_system:v,code_system_name:L},reference_range:{text:I,low_unit:b,low_value:N,high_unit:A,high_value:R}})}n.push({name:o,code:l,code_system:d,code_system_name:c,date:s,tests:p})}),n},a.C32.medications=function(s){var a,i=t.parseDate,n=[],r=s.section("medications");return r.entries().each(function(t){var r=t.tag("reference").attr("value"),o=t.tag("text").val(),l=s.content("sig-"+r.split("-")[1]).val(),d=null;a=t.tag("substanceAdministration").immediateChildTag("text"),a.isEmpty()||(d=e.stripWhitespace(a.val()));var c=t.elsByTag("effectiveTime");a=c[0];var h=null,p=null;a&&(h=i(a.tag("low").attr("value")),p=i(a.tag("high").attr("value"))),a=c[1];var m=null,u=null,_=null;if(a&&"PIVL_TS"===a.attr("xsi:type")){var C=a.attr("institutionSpecified");"true"===C?m="frequency":"false"===C&&(m="interval"),a=a.tag("period"),u=a.attr("value"),_=a.attr("unit")}a=t.tag("manufacturedProduct").tag("code");var g=a.attr("displayName"),E=a.attr("code"),y=a.attr("codeSystem"),f=null;a=t.tag("manufacturedProduct").tag("originalText"),a.isEmpty()||(f=e.stripWhitespace(a.val())),!g&&f&&(g=f),g||(a=t.tag("manufacturedProduct").tag("name"),a.isEmpty()||(g=e.stripWhitespace(a.val()))),a=t.tag("manufacturedProduct").tag("translation");var v=a.attr("displayName"),L=a.attr("code"),S=a.attr("codeSystem"),T=a.attr("codeSystemName");a=t.tag("doseQuantity");var I=a.attr("value"),b=a.attr("unit");a=t.tag("rateQuantity");var N=a.attr("value"),A=a.attr("unit");a=t.tag("precondition").tag("value");var R=a.attr("displayName"),D=a.attr("code"),P=a.attr("codeSystem");a=t.template("2.16.840.1.113883.10.20.1.28").tag("value");var O=a.attr("displayName"),w=a.attr("code"),M=a.attr("codeSystem");a=t.tag("routeCode");var H=a.attr("displayName"),F=a.attr("code"),B=a.attr("codeSystem"),k=a.attr("codeSystemName");a=t.tag("participant").tag("playingEntity");var U=a.tag("name").val();a=a.tag("code"),U=a.attr("displayName")||U;var x=a.attr("code"),G=a.attr("codeSystem"),j=a.attr("codeSystemName");a=t.tag("administrationUnitCode");var W=a.attr("displayName"),V=a.attr("code"),q=a.attr("codeSystem"),z=a.attr("codeSystemName");a=t.tag("performer");var K=a.tag("name").val(),Y=null;n.push({reference:r,reference_title:o,reference_sig:l,date_range:{start:h,end:p},text:d,product:{name:g,text:f,code:E,code_system:y,translation:{name:v,code:L,code_system:S,code_system_name:T}},dose_quantity:{value:I,unit:b},rate_quantity:{value:N,unit:A},precondition:{name:R,code:D,code_system:P},reason:{name:O,code:w,code_system:M},route:{name:H,code:F,code_system:B,code_system_name:k},schedule:{type:m,period_value:u,period_unit:_},vehicle:{name:U,code:x,code_system:G,code_system_name:j},administration:{name:W,code:V,code_system:q,code_system_name:z},prescriber:{organization:K,person:Y}})}),n},a.C32.problems=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("problems");return r.entries().each(function(t){var s=t.tag("reference").attr("value"),r=t.tag("text").val();a=t.tag("effectiveTime");var o=i(a.tag("low").attr("value")),l=i(a.tag("high").attr("value"));a=t.template("2.16.840.1.113883.10.20.1.28").tag("value");var d=a.attr("displayName"),c=a.attr("code"),h=a.attr("codeSystem"),p=a.attr("codeSystemName");d||(a=t.template("2.16.840.1.113883.10.20.1.28").tag("originalText"),a.isEmpty()||(d=e.stripWhitespace(a.val()))),a=t.template("2.16.840.1.113883.10.20.1.28").tag("translation");var m=a.attr("displayName"),u=a.attr("code"),_=a.attr("codeSystem"),C=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.1.50");var g=a.tag("value").attr("displayName"),E=null;a=t.template("2.16.840.1.113883.10.20.1.38"),a.isEmpty()||(E=parseFloat(a.tag("value").attr("value"))),n.push({reference:s,reference_title:r,date_range:{start:o,end:l},name:d,status:g,age:E,code:c,code_system:h,code_system_name:p,translation:{name:m,code:u,code_system:_,code_system_name:C},comment:null})}),n},a.C32.procedures=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress),r=[],o=s.section("procedures");return o.entries().each(function(t){a=t.tag("effectiveTime");var s=i(a.attr("value"));a=t.tag("code");var o=a.attr("displayName"),l=a.attr("code"),d=a.attr("codeSystem");o||(o=e.stripWhitespace(t.tag("originalText").val())),a=t.tag("specimen").tag("code");var c=a.attr("displayName"),h=a.attr("code"),p=a.attr("codeSystem");a=t.tag("performer").tag("addr");var m=a.tag("name").val(),u=a.tag("telecom").attr("value"),_=n(a);_.organization=m,_.phone=u,a=t.tag("participant").tag("code");var C=a.attr("displayName"),g=a.attr("code"),E=a.attr("codeSystem");r.push({date:s,name:o,code:l,code_system:d,specimen:{name:c,code:h,code_system:p},performer:_,device:{name:C,code:g,code_system:E}})}),r},a.C32.vitals=function(e){var s,a=t.parseDate,i=(t.parseName,t.parseAddress,[]),n=e.section("vitals");return n.entries().each(function(e){s=e.tag("effectiveTime");for(var t,n=a(s.attr("value")),r=e.elsByTag("component"),o=[],l=0;l<r.length;l++){t=r[l],s=t.tag("code");var d=s.attr("displayName"),c=s.attr("code"),h=s.attr("codeSystem"),p=s.attr("codeSystemName");s=t.tag("value");var m=parseFloat(s.attr("value")),u=s.attr("unit");o.push({name:d,code:c,code_system:h,code_system_name:p,value:m,unit:u})}i.push({date:n,results:o})}),i},a.CCDA=function(){var t=function(t){var s={};return s.document=a.CCDA.document(t),s.allergies=a.CCDA.allergies(t),s.care_plan=a.CCDA.care_plan(t),s.chief_complaint=a.CCDA.free_text(t,"chief_complaint"),s.demographics=a.CCDA.demographics(t),s.encounters=a.CCDA.encounters(t),s.functional_statuses=a.CCDA.functional_statuses(t),s.immunizations=a.CCDA.immunizations(t).administered,s.immunization_declines=a.CCDA.immunizations(t).declined,s.instructions=a.CCDA.instructions(t),s.results=a.CCDA.results(t),s.medications=a.CCDA.medications(t),s.problems=a.CCDA.problems(t),s.procedures=a.CCDA.procedures(t),s.smoking_status=a.CCDA.smoking_status(t),s.vitals=a.CCDA.vitals(t),s.json=e.json,s.document.json=e.json,s.allergies.json=e.json,s.care_plan.json=e.json,s.chief_complaint.json=e.json,s.demographics.json=e.json,s.encounters.json=e.json,s.functional_statuses.json=e.json,s.immunizations.json=e.json,s.immunization_declines.json=e.json,s.instructions.json=e.json,s.results.json=e.json,s.medications.json=e.json,s.problems.json=e.json,s.procedures.json=e.json,s.smoking_status.json=e.json,s.vitals.json=e.json,s};return{run:t}}(),a.CCDA.document=function(s){var a,i=t.parseDate,n=t.parseName,r=t.parseAddress,o=t.parsePhones,l=t.parseIds,d={},c=s.section("document"),h=i(c.tag("effectiveTime").attr("value")),p=e.stripWhitespace(c.tag("title").val()),m=c.tag("author");a=m.tag("assignedPerson").tag("name");var u=n(a);a=m.tag("addr");var _=r(a);a=m.tag("assignedAuthor").immediateChildrenTags("telecom");for(var C=o(a),g=[],E=c.tag("documentationOf").elsByTag("performer"),y=0;y<E.length;y++){a=E[y];var f=n(a),v=a.tag("telecom").attr("value"),L=r(a.tag("addr"));g.push({name:f,phone:{work:v},address:L})}a=c.tag("legalAuthenticator");var S=i(a.tag("time").attr("value")),T=n(a.tag("assignedEntity").tag("assignedPerson").tag("name")),I=r(a.tag("assignedEntity").tag("addr")),b=a.tag("assignedEntity").immediateChildrenTags("id"),N=l(b),A=a.tag("representedOrganization").immediateChildrenTags("id"),R=l(A),D=a.tag("representedOrganization").tag("name").val(),P=a.tag("assignedEntity").immediateChildrenTags("telecom"),O=o(P);a=c.tag("encompassingEncounter").tag("location");var w=e.stripWhitespace(a.tag("name").val()),M=r(a.tag("addr")),H=null;return a=a.tag("effectiveTime"),a.isEmpty()||(H=i(a.attr("value"))),d={date:h,title:p,author:{name:u,address:_,phone:C},documentation_of:g,legal_authenticator:{date:S,ids:N,assigned_person:T,representedOrganization:{ids:R,name:D,phones:O,address:I}},location:{name:w,address:M,encounter_date:H}}},a.CCDA.allergies=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("allergies");return r.entries().each(function(t){a=t.tag("effectiveTime");var s=i(a.tag("low").attr("value")),r=i(a.tag("high").attr("value"));a=t.template("2.16.840.1.113883.10.20.22.4.7").tag("code");var o=a.attr("displayName"),l=a.attr("code"),d=a.attr("codeSystem"),c=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.22.4.7").tag("value");var h=a.attr("displayName"),p=a.attr("code"),m=a.attr("codeSystem"),u=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.22.4.9").tag("value");var _=a.attr("displayName"),C=a.attr("code"),g=a.attr("codeSystem");a=t.template("2.16.840.1.113883.10.20.22.4.8").tag("value");var E=a.attr("displayName");a=t.tag("participant").tag("code");var y=a.attr("displayName"),f=a.attr("code"),v=a.attr("codeSystem"),L=a.attr("codeSystemName");y||(a=t.tag("participant").tag("name"),a.isEmpty()||(y=a.val())),y||(a=t.template("2.16.840.1.113883.10.20.22.4.7").tag("originalText"),a.isEmpty()||(y=e.stripWhitespace(a.val()))),a=t.template("2.16.840.1.113883.10.20.22.4.28").tag("value");var S=a.attr("displayName");n.push({date_range:{start:s,end:r},name:o,code:l,code_system:d,code_system_name:c,status:S,severity:E,reaction:{name:_,code:C,code_system:g},reaction_type:{name:h,code:p,code_system:m,code_system_name:u},allergen:{name:y,code:f,code_system:v,code_system_name:L}})}),n},a.CCDA.care_plan=function(t){var s,a=[],i=t.section("care_plan");return i.entries().each(function(t){var i=null,n=null,r=null,o=null;s=t.template("2.16.840.1.113883.10.20.22.4.40"),s.isEmpty()?(s=t.tag("code"),i=s.attr("displayName"),n=s.attr("code"),r=s.attr("codeSystem"),o=s.attr("codeSystemName")):i="encounter";var l=e.stripWhitespace(t.tag("text").val());a.push({text:l,name:i,code:n,code_system:r,code_system_name:o})}),a},a.CCDA.demographics=function(s){var a,i=t.parseDate,n=t.parseName,r=t.parseAddress,o=t.parsePhones,l=t.parseIds,d={},c=s.section("demographics"),h=c.tag("patientRole");a=h.tag("patient").tag("name");var p=n(a),m=h.tag("id").attr("extension");a=h.tag("patient");var u=i(a.tag("birthTime").attr("value")),_=e.Codes.gender(a.tag("administrativeGenderCode").attr("code")),C=e.Codes.maritalStatus(a.tag("maritalStatusCode").attr("code"));a=h.tag("addr");var g=r(a);a=h.immediateChildrenTags("telecom");var E=o(a),y=function(e){if(!e.length>0)return null;for(var t=0;t<e.length;t++){var s=e[t].attr("value");if(null!=s&&s.indexOf("@")>-1){if(s.indexOf(":")>-1){var a=s.split(":");return a[1].toString()}return s.toString()}}},f=y(a),v=f?f:null,L=h.tag("languageCommunication").tag("languageCode").attr("code"),S=h.tag("raceCode").attr("displayName"),T=h.tag("ethnicGroupCode").attr("displayName"),I=h.tag("religiousAffiliationCode").attr("displayName");a=h.tag("birthplace");var b=r(a);a=h.tag("guardian");var N=a.tag("code").attr("displayName"),A=a.tag("code").attr("code"),R=a.tag("telecom").attr("value");a=a.tag("guardianPerson").tag("name");var D=n(a);a=h.tag("guardian").tag("addr");var P=r(a);a=h.tag("providerOrganization");var O=a.tag("name").val(),w=a.tag("telecom").attr("value"),M=l(a.immediateChildrenTags("id")),H=r(a.tag("addr"));a=c.immediateChildrenTags("participant");var F=a.map(function(t){return t=t.tag("associatedEntity"),{relationship:e.Codes.role(t.attr("classCode")),relationship_code:{code:t.tag("code").attr("code"),displayName:t.tag("code").attr("displayName")},phones:o(t.immediateChildrenTags("telecom")),name:n(t.tag("associatedPerson").tag("name"))}});return d={name:p,dob:u,gender:_,mrn_number:m,marital_status:C,address:g,phones:E,email:v,language:L,race:S,ethnicity:T,religion:I,birthplace:{state:b.state,zip:b.zip,country:b.country},guardian:{name:{given:D.given,family:D.family},relationship:N,relationship_code:A,address:P,phone:{home:R}},patient_contacts:F,provider:{ids:M,organization:O,phone:w,address:H}}},a.CCDA.encounters=function(e){var s,a=t.parseDate,i=(t.parseName,t.parseAddress),n=t.parseIds,r=[],o=e.section("encounters");return o.entries().each(function(e){var t=a(e.tag("effectiveTime").attr("value"));s=e.tag("code");var o=s.attr("displayName"),l=s.attr("code"),d=s.attr("codeSystem"),c=s.attr("codeSystemName"),h=s.attr("codeSystemVersion");s=e.tag("translation");var p=s.attr("displayName"),m=s.attr("code"),u=s.attr("codeSystem"),_=s.attr("codeSystemName");s=e.tag("performer").tag("code");var C=s.attr("displayName"),g=s.attr("code"),E=s.attr("codeSystem"),y=s.attr("codeSystemName"),f=n(e.tag("performer").tag("assignedEntity").immediateChildrenTags("id"));s=e.tag("participant");var v=s.tag("code").attr("displayName"),L=i(s);L.organization=v;for(var S=[],T=e.elsByTag("entryRelationship"),I=0;I<T.length;I++)s=T[I].tag("value"),S.push({name:s.attr("displayName"),code:s.attr("code"),code_system:s.attr("codeSystem")});r.push({date:t,name:o,code:l,code_system:d,code_system_name:c,code_system_version:h,findings:S,translation:{name:p,code:m,code_system:u,code_system_name:_},performer:{ids:f,name:C,code:g,code_system:E,code_system_name:y},location:L})}),r},a.CCDA.free_text=function(t,s){var a={},i=t.section(s),n=e.stripWhitespace(i.tag("text").val());return a={text:n}},a.CCDA.functional_statuses=function(e){var s,a=t.parseDate,i=[],n=e.section("functional_statuses");return n.entries().each(function(e){var t=a(e.tag("effectiveTime").attr("value"));t||(t=a(e.tag("effectiveTime").tag("low").attr("value"))),s=e.tag("value");var n=s.attr("displayName"),r=s.attr("code"),o=s.attr("codeSystem"),l=s.attr("codeSystemName");i.push({date:t,name:n,code:r,code_system:o,code_system_name:l})}),i},a.CCDA.immunizations=function(s){var a,i,n=t.parseDate,r=(t.parseName,t.parseAddress,[]),o=[],l=s.section("immunizations");return l.entries().each(function(t){a=t.tag("effectiveTime");var s=n(a.attr("value"));s||(s=n(a.tag("low").attr("value"))),a=t.tag("substanceAdministration");var l=a.boolAttr("negationInd");i=t.template("2.16.840.1.113883.10.20.22.4.54"),a=i.tag("code");var d=a.attr("displayName"),c=a.attr("code"),h=a.attr("codeSystem"),p=a.attr("codeSystemName");a=i.tag("translation");var m=a.attr("displayName"),u=a.attr("code"),_=a.attr("codeSystem"),C=a.attr("codeSystemName");a=i.tag("lotNumberText");var g=a.val();a=i.tag("manufacturerOrganization");var E=a.tag("name").val();a=t.tag("routeCode");var y=a.attr("displayName"),f=a.attr("code"),v=a.attr("codeSystem"),L=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.22.4.20");var S=e.stripWhitespace(a.tag("text").val());a=a.tag("code");var T=a.attr("displayName"),I=a.attr("code"),b=a.attr("codeSystem");a=t.tag("doseQuantity");var N=a.attr("value"),A=a.attr("unit"),R=l?o:r;R.push({date:s,product:{name:d,code:c,code_system:h,code_system_name:p,translation:{name:m,code:u,code_system:_,code_system_name:C},lot_number:g,manufacturer_name:E},dose_quantity:{value:N,unit:A},route:{name:y,code:f,code_system:v,code_system_name:L},instructions:S,education_type:{name:T,code:I,code_system:b}})}),{administered:r,declined:o}},a.CCDA.instructions=function(t){var s,a=[],i=t.section("instructions");return i.entries().each(function(t){s=t.tag("code");var i=s.attr("displayName"),n=s.attr("code"),r=s.attr("codeSystem"),o=s.attr("codeSystemName"),l=e.stripWhitespace(t.tag("text").val());a.push({text:l,name:i,code:n,code_system:r,code_system_name:o})}),a},a.CCDA.results=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("results");return r.entries().each(function(t){a=t.tag("code");for(var s,r=a.attr("displayName"),o=a.attr("code"),l=a.attr("codeSystem"),d=a.attr("codeSystemName"),c=t.elsByTag("observation"),h=[],p=0;p<c.length;p++){s=c[p];var m=i(s.tag("effectiveTime").attr("value"));a=s.tag("code");var u=a.attr("displayName"),_=a.attr("code"),C=a.attr("codeSystem"),g=a.attr("codeSystemName");u||(u=e.stripWhitespace(s.tag("text").val())),a=s.tag("translation");var E=a.attr("displayName"),y=a.attr("code"),f=a.attr("codeSystem"),v=a.attr("codeSystemName");a=s.tag("value");var L=a.attr("value"),S=a.attr("unit");L&&!isNaN(parseFloat(L))&&(L=parseFloat(L)),L||(L=a.val()),a=s.tag("referenceRange");var T=e.stripWhitespace(a.tag("observationRange").tag("text").val()),I=a.tag("observationRange").tag("low").attr("unit"),b=a.tag("observationRange").tag("low").attr("value"),N=a.tag("observationRange").tag("high").attr("unit"),A=a.tag("observationRange").tag("high").attr("value");h.push({date:m,name:u,value:L,unit:S,code:_,code_system:C,code_system_name:g,translation:{name:E,code:y,code_system:f,code_system_name:v},reference_range:{text:T,low_unit:I,low_value:b,high_unit:N,high_value:A}})}n.push({name:r,code:o,code_system:l,code_system_name:d,tests:h})}),n},a.CCDA.medications=function(s){var a,i=t.parseDate,n=[],r=s.section("medications");return r.entries().each(function(t){var r=t.tag("value").attr("displayName"),o=t.tag("reference").attr("value"),l=t.tag("text").val(),d=s.content("sig-"+o.split("-")[1]).val();a=t.tag("text");var c=e.stripWhitespace(a.val()),h=t.elsByTag("effectiveTime");a=h[0];var p=null,m=null;a&&(p=i(a.tag("low").attr("value")),m=i(a.tag("high").attr("value"))),a=h[1];var u=null,_=null,C=null;if(a&&"PIVL_TS"===a.attr("xsi:type")){var g=a.attr("institutionSpecified");"true"===g?u="frequency":"false"===g&&(u="interval"),a=a.tag("period"),_=a.attr("value"),C=a.attr("unit")}a=t.tag("manufacturedProduct").tag("code");var E=a.attr("displayName"),y=a.attr("code"),f=a.attr("codeSystem"),v=null;a=t.tag("manufacturedProduct").tag("originalText"),a.isEmpty()||(v=e.stripWhitespace(a.val())),!E&&v&&(E=v),a=t.tag("manufacturedProduct").tag("translation");var L=a.attr("displayName"),S=a.attr("code"),T=a.attr("codeSystem"),I=a.attr("codeSystemName");a=t.tag("doseQuantity");var b=a.attr("value"),N=a.attr("unit");a=t.tag("rateQuantity");var A=a.attr("value"),R=a.attr("unit");a=t.tag("precondition").tag("value");var D=a.attr("displayName"),P=a.attr("code"),O=a.attr("codeSystem");a=t.template("2.16.840.1.113883.10.20.22.4.19").tag("value");var w=a.attr("displayName"),M=a.attr("code"),H=a.attr("codeSystem");a=t.tag("routeCode");var F=a.attr("displayName"),B=a.attr("code"),k=a.attr("codeSystem"),U=a.attr("codeSystemName");a=t.tag("participant").tag("playingEntity");var x=a.tag("name").val();a=a.tag("code"),x=a.attr("displayName")||x;var G=a.attr("code"),j=a.attr("codeSystem"),W=a.attr("codeSystemName");a=t.tag("administrationUnitCode");var V=a.attr("displayName"),q=a.attr("code"),z=a.attr("codeSystem"),K=a.attr("codeSystemName");a=t.tag("performer");var Y=a.tag("name").val(),X=null;n.push({reference:o,reference_title:l,reference_sig:d,date_range:{start:p,end:m},status:r,text:c,product:{name:E,code:y,code_system:f,text:v,translation:{name:L,code:S,code_system:T,code_system_name:I}},dose_quantity:{value:b,unit:N},rate_quantity:{value:A,unit:R},precondition:{name:D,code:P,code_system:O},reason:{name:w,code:M,code_system:H},route:{name:F,code:B,code_system:k,code_system_name:U},schedule:{type:u,period_value:_,period_unit:C},vehicle:{name:x,code:G,code_system:j,code_system_name:W},administration:{name:V,code:q,code_system:z,code_system_name:K},prescriber:{organization:Y,person:X}})}),n},a.CCDA.problems=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress,[]),r=s.section("problems");return r.entries().each(function(t){var s=t.tag("reference").attr("value"),r=t.tag("text").val();a=t.tag("effectiveTime");var o=i(a.tag("low").attr("value")),l=i(a.tag("high").attr("value"));a=t.template("2.16.840.1.113883.10.20.22.4.4").tag("value");var d=a.attr("displayName"),c=a.attr("code"),h=a.attr("codeSystem"),p=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.22.4.4").tag("translation");var m=a.attr("displayName"),u=a.attr("code"),_=a.attr("codeSystem"),C=a.attr("codeSystemName");a=t.template("2.16.840.1.113883.10.20.22.4.6");var g=a.tag("value").attr("displayName"),E=null;a=t.template("2.16.840.1.113883.10.20.22.4.31"),a.isEmpty()||(E=parseFloat(a.tag("value").attr("value"))),a=t.template("2.16.840.1.113883.10.20.22.4.64");var y=e.stripWhitespace(a.tag("text").val());n.push({reference:s,reference_title:r,date_range:{start:o,end:l},name:d,status:g,age:E,code:c,code_system:h,code_system_name:p,translation:{name:m,code:u,code_system:_,code_system_name:C},comment:y})}),n},a.CCDA.procedures=function(s){var a,i=t.parseDate,n=(t.parseName,t.parseAddress),r=[],o=s.section("procedures");return o.entries().each(function(t){a=t.tag("effectiveTime");var s=i(a.attr("value"));a=t.tag("code");var o=a.attr("displayName"),l=a.attr("code"),d=a.attr("codeSystem");o||(o=e.stripWhitespace(t.tag("originalText").val())),a=t.tag("specimen").tag("code");var c=a.attr("displayName"),h=a.attr("code"),p=a.attr("codeSystem");a=t.tag("performer").tag("addr");var m=a.tag("name").val(),u=a.tag("telecom").attr("value"),_=n(a);_.organization=m,_.phone=u,a=t.template("2.16.840.1.113883.10.20.22.4.37").tag("code");var C=a.attr("displayName"),g=a.attr("code"),E=a.attr("codeSystem");r.push({date:s,name:o,code:l,code_system:d,specimen:{name:c,code:h,code_system:p},performer:_,device:{name:C,code:g,code_system:E}})}),r},a.CCDA.smoking_status=function(e){for(var s,a,i=t.parseDate,n=(t.parseName,t.parseAddress,null),r=null,o=null,l=null,d=null,c=e.section("social_history"),h=c.entries(),p=0;p<h.length;p++){var m=h[p],u=m.template("2.16.840.1.113883.10.20.22.4.78");if(u.isEmpty()&&(u=m.template("2.16.840.1.113883.10.22.4.78")),!u.isEmpty()&&(a=u.tag("effectiveTime"),d=i(a.attr("value")),a=u.tag("value"),n=a.attr("displayName"),r=a.attr("code"),o=a.attr("codeSystem"),l=a.attr("codeSystemName"),n))break}return s={date:d,name:n,code:r,code_system:o,code_system_name:l}},a.CCDA.vitals=function(e){var s,a=t.parseDate,i=(t.parseName,t.parseAddress,[]),n=e.section("vitals");return n.entries().each(function(e){s=e.tag("effectiveTime");for(var t,n=a(s.attr("value")),r=e.elsByTag("component"),o=[],l=0;l<r.length;l++){t=r[l],s=t.tag("code");var d=s.attr("displayName"),c=s.attr("code"),h=s.attr("codeSystem"),p=s.attr("codeSystemName");s=t.tag("value");var m=parseFloat(s.attr("value")),u=s.attr("unit");o.push({name:d,code:c,code_system:h,code_system_name:p,value:m,unit:u})}i.push({date:n,results:o})}),i};var i=(function(){var e=function(){};return{method:e}}(),function(i,n){var r,o,l;if(n||(n={}),o=e.parseData(i),n.parser)l=n.parser();else switch(r=t.detect(o)){case"c32":o=t.C32.process(o),l=a.C32.run(o);break;case"ccda":o=t.CCDA.process(o),l=a.CCDA.run(o);break;case"json":switch(n.generatorType){case"c32":r="c32",l=s.C32.run(o,n.template,n.testingMode);break;case"ccda":r="ccda",l=s.CCDA.run(o,n.template,n.testingMode)}}return{type:r,data:l,source:o}});return i}),!function(){"use strict";function e(e,t){if(e){if(t.element_.classList.contains(t.CssClasses_.MDL_JS_RIPPLE_EFFECT)){var s=document.createElement("span");s.classList.add(t.CssClasses_.MDL_RIPPLE_CONTAINER),s.classList.add(t.CssClasses_.MDL_JS_RIPPLE_EFFECT);var a=document.createElement("span");a.classList.add(t.CssClasses_.MDL_RIPPLE),s.appendChild(a),e.appendChild(s)}e.addEventListener("click",function(s){s.preventDefault();var a=e.href.split("#")[1],i=t.element_.querySelector("#"+a);t.resetTabState_(),t.resetPanelState_(),e.classList.add(t.CssClasses_.ACTIVE_CLASS),i.classList.add(t.CssClasses_.ACTIVE_CLASS)})}}function t(e,t,s,a){function i(){var i=e.href.split("#")[1],n=a.content_.querySelector("#"+i);a.resetTabState_(t),a.resetPanelState_(s),e.classList.add(a.CssClasses_.IS_ACTIVE),n.classList.add(a.CssClasses_.IS_ACTIVE)}if(a.tabBar_.classList.contains(a.CssClasses_.JS_RIPPLE_EFFECT)){var n=document.createElement("span");n.classList.add(a.CssClasses_.RIPPLE_CONTAINER),n.classList.add(a.CssClasses_.JS_RIPPLE_EFFECT);var r=document.createElement("span");r.classList.add(a.CssClasses_.RIPPLE),n.appendChild(r),e.appendChild(n)}e.addEventListener("click",function(t){"#"===e.getAttribute("href").charAt(0)&&(t.preventDefault(),i())}),e.show=i,e.addEventListener("click",function(i){i.preventDefault();var n=e.href.split("#")[1],r=a.content_.querySelector("#"+n);a.resetTabState_(t),a.resetPanelState_(s),e.classList.add(a.CssClasses_.IS_ACTIVE),r.classList.add(a.CssClasses_.IS_ACTIVE)})}var s={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};s=function(){function e(e,t){for(var s=0;s<h.length;s++)if(h[s].className===e)return"undefined"!=typeof t&&(h[s]=t),h[s];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,s){var a=t(e);return-1!==a.indexOf(s)}function a(t,s){if("undefined"==typeof t&&"undefined"==typeof s)for(var n=0;n<h.length;n++)a(h[n].className,h[n].cssClass);else{var r=t;if("undefined"==typeof s){var o=e(r);o&&(s=o.cssClass)}for(var l=document.querySelectorAll("."+s),d=0;d<l.length;d++)i(l[d],r)}}function i(a,i){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var n=t(a),r=[];if(i)s(a,i)||r.push(e(i));else{var o=a.classList;h.forEach(function(e){o.contains(e.cssClass)&&-1===r.indexOf(e)&&!s(a,e.className)&&r.push(e)})}for(var l,d=0,c=r.length;c>d;d++){if(l=r[d],!l)throw new Error("Unable to find a registered component for the given class.");n.push(l.className),a.setAttribute("data-upgraded",n.join(","));var u=new l.classConstructor(a);u[m]=l,p.push(u);for(var _=0,C=l.callbacks.length;C>_;_++)l.callbacks[_](a);l.widget&&(a[l.className]=u);var g=document.createEvent("Events");g.initEvent("mdl-componentupgraded",!0,!0),a.dispatchEvent(g)}}function n(e){Array.isArray(e)||(e="function"==typeof e.item?Array.prototype.slice.call(e):[e]);for(var t,s=0,a=e.length;a>s;s++)t=e[s],t instanceof HTMLElement&&(i(t),t.children.length>0&&n(t.children))}function r(t){var s="undefined"==typeof t.widget&&"undefined"==typeof t.widget,a=!0;s||(a=t.widget||t.widget);var i={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:a,callbacks:[]};if(h.forEach(function(e){if(e.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===i.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(m))throw new Error("MDL component classes must not have "+m+" defined as a property.");var n=e(t.classAsString,i);n||h.push(i)}function o(t,s){var a=e(t);a&&a.callbacks.push(s)}function l(){for(var e=0;e<h.length;e++)a(h[e].className)}function d(e){var t=p.indexOf(e);p.splice(t,1);var s=e.element_.getAttribute("data-upgraded").split(","),a=s.indexOf(e[m].classAsString);s.splice(a,1),e.element_.setAttribute("data-upgraded",s.join(","));var i=document.createEvent("Events");i.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(i)}function c(e){var t=function(e){p.filter(function(t){return t.element_===e}).forEach(d)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var h=[],p=[],m="mdlComponentConfigInternal_";return{upgradeDom:a,upgradeElement:i,upgradeElements:n,upgradeAllRegistered:l,registerUpgradedCallback:o,register:r,downgradeElements:c}}(),s.ComponentConfigPublic,s.ComponentConfig,s.Component,s.upgradeDom=s.upgradeDom,s.upgradeElement=s.upgradeElement,s.upgradeElements=s.upgradeElements,s.upgradeAllRegistered=s.upgradeAllRegistered,s.registerUpgradedCallback=s.registerUpgradedCallback,s.register=s.register,s.downgradeElements=s.downgradeElements,window.componentHandler=s,window.componentHandler=s,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),s.upgradeAllRegistered()):(s.upgradeElement=function(){},s.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var a=["webkit","moz"],i=0;i<a.length&&!window.requestAnimationFrame;++i){var n=a[i];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var r=0;window.requestAnimationFrame=function(e){var t=Date.now(),s=Math.max(r+16,t);return setTimeout(function(){e(r=s)},s-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var o=function(e){this.element_=e,this.init()};window.MaterialButton=o,o.prototype.Constant_={},o.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},o.prototype.blurHandler_=function(e){e&&this.element_.blur()},o.prototype.disable=function(){this.element_.disabled=!0},o.prototype.disable=o.prototype.disable,o.prototype.enable=function(){this.element_.disabled=!1},o.prototype.enable=o.prototype.enable,o.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},s.register({constructor:o,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0});var l=function(e){this.element_=e,this.init()};window.MaterialCheckbox=l,l.prototype.Constant_={TINY_TIMEOUT:.001},l.prototype.CssClasses_={INPUT:"mdl-checkbox__input",BOX_OUTLINE:"mdl-checkbox__box-outline",FOCUS_HELPER:"mdl-checkbox__focus-helper",TICK_OUTLINE:"mdl-checkbox__tick-outline",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-checkbox__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},l.prototype.onChange_=function(e){this.updateClasses_()},l.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},l.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},l.prototype.onMouseUp_=function(e){this.blur_()},l.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},l.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},l.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED);
},l.prototype.checkToggleState=l.prototype.checkToggleState,l.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},l.prototype.checkDisabled=l.prototype.checkDisabled,l.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},l.prototype.disable=l.prototype.disable,l.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},l.prototype.enable=l.prototype.enable,l.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},l.prototype.check=l.prototype.check,l.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},l.prototype.uncheck=l.prototype.uncheck,l.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("span");e.classList.add(this.CssClasses_.BOX_OUTLINE);var t=document.createElement("span");t.classList.add(this.CssClasses_.FOCUS_HELPER);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.TICK_OUTLINE),e.appendChild(s),this.element_.appendChild(t),this.element_.appendChild(e),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var a=document.createElement("span");a.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(a),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementMouseUp),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:l,classAsString:"MaterialCheckbox",cssClass:"mdl-js-checkbox",widget:!0});var d=function(e){this.element_=e,this.init()};window.MaterialIconToggle=d,d.prototype.Constant_={TINY_TIMEOUT:.001},d.prototype.CssClasses_={INPUT:"mdl-icon-toggle__input",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-icon-toggle__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},d.prototype.onChange_=function(e){this.updateClasses_()},d.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},d.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},d.prototype.onMouseUp_=function(e){this.blur_()},d.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},d.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},d.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},d.prototype.checkToggleState=d.prototype.checkToggleState,d.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},d.prototype.checkDisabled=d.prototype.checkDisabled,d.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},d.prototype.disable=d.prototype.disable,d.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},d.prototype.enable=d.prototype.enable,d.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},d.prototype.check=d.prototype.check,d.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},d.prototype.uncheck=d.prototype.uncheck,d.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp);var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener("change",this.boundInputOnChange),this.inputElement_.addEventListener("focus",this.boundInputOnFocus),this.inputElement_.addEventListener("blur",this.boundInputOnBlur),this.element_.addEventListener("mouseup",this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:d,classAsString:"MaterialIconToggle",cssClass:"mdl-js-icon-toggle",widget:!0});var c=function(e){this.element_=e,this.init()};window.MaterialMenu=c,c.prototype.Constant_={TRANSITION_DURATION_SECONDS:.3,TRANSITION_DURATION_FRACTION:.8,CLOSE_TIMEOUT:150},c.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},c.prototype.CssClasses_={CONTAINER:"mdl-menu__container",OUTLINE:"mdl-menu__outline",ITEM:"mdl-menu__item",ITEM_RIPPLE_CONTAINER:"mdl-menu__item-ripple-container",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_UPGRADED:"is-upgraded",IS_VISIBLE:"is-visible",IS_ANIMATING:"is-animating",BOTTOM_LEFT:"mdl-menu--bottom-left",BOTTOM_RIGHT:"mdl-menu--bottom-right",TOP_LEFT:"mdl-menu--top-left",TOP_RIGHT:"mdl-menu--top-right",UNALIGNED:"mdl-menu--unaligned"},c.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_),this.container_=e;var t=document.createElement("div");t.classList.add(this.CssClasses_.OUTLINE),this.outline_=t,e.insertBefore(t,this.element_);var s=this.element_.getAttribute("for")||this.element_.getAttribute("data-mdl-for"),a=null;s&&(a=document.getElementById(s),a&&(this.forElement_=a,a.addEventListener("click",this.handleForClick_.bind(this)),a.addEventListener("keydown",this.handleForKeyboardEvent_.bind(this))));var i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM);this.boundItemKeydown_=this.handleItemKeyboardEvent_.bind(this),this.boundItemClick_=this.handleItemClick_.bind(this);for(var n=0;n<i.length;n++)i[n].addEventListener("click",this.boundItemClick_),i[n].tabIndex="-1",i[n].addEventListener("keydown",this.boundItemKeydown_);if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT))for(this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),n=0;n<i.length;n++){var r=i[n],o=document.createElement("span");o.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);var l=document.createElement("span");l.classList.add(this.CssClasses_.RIPPLE),o.appendChild(l),r.appendChild(o),r.classList.add(this.CssClasses_.RIPPLE_EFFECT)}this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT),this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)&&this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT),this.element_.classList.contains(this.CssClasses_.TOP_LEFT)&&this.outline_.classList.add(this.CssClasses_.TOP_LEFT),this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)&&this.outline_.classList.add(this.CssClasses_.TOP_RIGHT),this.element_.classList.contains(this.CssClasses_.UNALIGNED)&&this.outline_.classList.add(this.CssClasses_.UNALIGNED),e.classList.add(this.CssClasses_.IS_UPGRADED)}},c.prototype.handleForClick_=function(e){if(this.element_&&this.forElement_){var t=this.forElement_.getBoundingClientRect(),s=this.forElement_.parentElement.getBoundingClientRect();this.element_.classList.contains(this.CssClasses_.UNALIGNED)||(this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"):this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.bottom=s.bottom-t.top+"px"):this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(this.container_.style.right=s.right-t.right+"px",this.container_.style.bottom=s.bottom-t.top+"px"):(this.container_.style.left=this.forElement_.offsetLeft+"px",this.container_.style.top=this.forElement_.offsetTop+this.forElement_.offsetHeight+"px"))}this.toggle(e)},c.prototype.handleForKeyboardEvent_=function(e){if(this.element_&&this.container_&&this.forElement_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)&&(e.keyCode===this.Keycodes_.UP_ARROW?(e.preventDefault(),t[t.length-1].focus()):e.keyCode===this.Keycodes_.DOWN_ARROW&&(e.preventDefault(),t[0].focus()))}},c.prototype.handleItemKeyboardEvent_=function(e){if(this.element_&&this.container_){var t=this.element_.querySelectorAll("."+this.CssClasses_.ITEM+":not([disabled])");if(t&&t.length>0&&this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)){var s=Array.prototype.slice.call(t).indexOf(e.target);if(e.keyCode===this.Keycodes_.UP_ARROW)e.preventDefault(),s>0?t[s-1].focus():t[t.length-1].focus();else if(e.keyCode===this.Keycodes_.DOWN_ARROW)e.preventDefault(),t.length>s+1?t[s+1].focus():t[0].focus();else if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER){e.preventDefault();var a=new MouseEvent("mousedown");e.target.dispatchEvent(a),a=new MouseEvent("mouseup"),e.target.dispatchEvent(a),e.target.click()}else e.keyCode===this.Keycodes_.ESCAPE&&(e.preventDefault(),this.hide())}}},c.prototype.handleItemClick_=function(e){e.target.hasAttribute("disabled")?e.stopPropagation():(this.closing_=!0,window.setTimeout(function(e){this.hide(),this.closing_=!1}.bind(this),this.Constant_.CLOSE_TIMEOUT))},c.prototype.applyClip_=function(e,t){this.element_.classList.contains(this.CssClasses_.UNALIGNED)?this.element_.style.clip="":this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)?this.element_.style.clip="rect(0 "+t+"px 0 "+t+"px)":this.element_.classList.contains(this.CssClasses_.TOP_LEFT)?this.element_.style.clip="rect("+e+"px 0 "+e+"px 0)":this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?this.element_.style.clip="rect("+e+"px "+t+"px "+e+"px "+t+"px)":this.element_.style.clip=""},c.prototype.removeAnimationEndListener_=function(e){e.target.classList.remove(c.prototype.CssClasses_.IS_ANIMATING)},c.prototype.addAnimationEndListener_=function(){this.element_.addEventListener("transitionend",this.removeAnimationEndListener_),this.element_.addEventListener("webkitTransitionEnd",this.removeAnimationEndListener_)},c.prototype.show=function(e){if(this.element_&&this.container_&&this.outline_){var t=this.element_.getBoundingClientRect().height,s=this.element_.getBoundingClientRect().width;this.container_.style.width=s+"px",this.container_.style.height=t+"px",this.outline_.style.width=s+"px",this.outline_.style.height=t+"px";for(var a=this.Constant_.TRANSITION_DURATION_SECONDS*this.Constant_.TRANSITION_DURATION_FRACTION,i=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),n=0;n<i.length;n++){var r=null;r=this.element_.classList.contains(this.CssClasses_.TOP_LEFT)||this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)?(t-i[n].offsetTop-i[n].offsetHeight)/t*a+"s":i[n].offsetTop/t*a+"s",i[n].style.transitionDelay=r}this.applyClip_(t,s),window.requestAnimationFrame(function(){this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.element_.style.clip="rect(0 "+s+"px "+t+"px 0)",this.container_.classList.add(this.CssClasses_.IS_VISIBLE)}.bind(this)),this.addAnimationEndListener_();var o=function(t){t===e||this.closing_||t.target.parentNode===this.element_||(document.removeEventListener("click",o),this.hide())}.bind(this);document.addEventListener("click",o)}},c.prototype.show=c.prototype.show,c.prototype.hide=function(){if(this.element_&&this.container_&&this.outline_){for(var e=this.element_.querySelectorAll("."+this.CssClasses_.ITEM),t=0;t<e.length;t++)e[t].style.removeProperty("transition-delay");var s=this.element_.getBoundingClientRect(),a=s.height,i=s.width;this.element_.classList.add(this.CssClasses_.IS_ANIMATING),this.applyClip_(a,i),this.container_.classList.remove(this.CssClasses_.IS_VISIBLE),this.addAnimationEndListener_()}},c.prototype.hide=c.prototype.hide,c.prototype.toggle=function(e){this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)?this.hide():this.show(e)},c.prototype.toggle=c.prototype.toggle,s.register({constructor:c,classAsString:"MaterialMenu",cssClass:"mdl-js-menu",widget:!0});var h=function(e){this.element_=e,this.init()};window.MaterialProgress=h,h.prototype.Constant_={},h.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},h.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},h.prototype.setProgress=h.prototype.setProgress,h.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},h.prototype.setBuffer=h.prototype.setBuffer,h.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},s.register({constructor:h,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0});var p=function(e){this.element_=e,this.init()};window.MaterialRadio=p,p.prototype.Constant_={TINY_TIMEOUT:.001},p.prototype.CssClasses_={IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"mdl-js-radio",RADIO_BTN:"mdl-radio__button",RADIO_OUTER_CIRCLE:"mdl-radio__outer-circle",RADIO_INNER_CIRCLE:"mdl-radio__inner-circle",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-radio__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple"},p.prototype.onChange_=function(e){for(var t=document.getElementsByClassName(this.CssClasses_.JS_RADIO),s=0;s<t.length;s++){var a=t[s].querySelector("."+this.CssClasses_.RADIO_BTN);a.getAttribute("name")===this.btnElement_.getAttribute("name")&&t[s].MaterialRadio.updateClasses_()}},p.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},p.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},p.prototype.onMouseup_=function(e){this.blur_()},p.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},p.prototype.blur_=function(){window.setTimeout(function(){this.btnElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},p.prototype.checkDisabled=function(){this.btnElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},p.prototype.checkDisabled=p.prototype.checkDisabled,p.prototype.checkToggleState=function(){this.btnElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},p.prototype.checkToggleState=p.prototype.checkToggleState,p.prototype.disable=function(){this.btnElement_.disabled=!0,this.updateClasses_()},p.prototype.disable=p.prototype.disable,p.prototype.enable=function(){this.btnElement_.disabled=!1,this.updateClasses_()},p.prototype.enable=p.prototype.enable,p.prototype.check=function(){this.btnElement_.checked=!0,this.updateClasses_()},p.prototype.check=p.prototype.check,p.prototype.uncheck=function(){this.btnElement_.checked=!1,this.updateClasses_()},p.prototype.uncheck=p.prototype.uncheck,p.prototype.init=function(){if(this.element_){this.btnElement_=this.element_.querySelector("."+this.CssClasses_.RADIO_BTN),this.boundChangeHandler_=this.onChange_.bind(this),this.boundFocusHandler_=this.onChange_.bind(this),this.boundBlurHandler_=this.onBlur_.bind(this),this.boundMouseUpHandler_=this.onMouseup_.bind(this);var e=document.createElement("span");e.classList.add(this.CssClasses_.RADIO_OUTER_CIRCLE);var t=document.createElement("span");t.classList.add(this.CssClasses_.RADIO_INNER_CIRCLE),this.element_.appendChild(e),this.element_.appendChild(t);var s;if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),s=document.createElement("span"),s.classList.add(this.CssClasses_.RIPPLE_CONTAINER),s.classList.add(this.CssClasses_.RIPPLE_EFFECT),s.classList.add(this.CssClasses_.RIPPLE_CENTER),s.addEventListener("mouseup",this.boundMouseUpHandler_);var a=document.createElement("span");a.classList.add(this.CssClasses_.RIPPLE),s.appendChild(a),this.element_.appendChild(s)}this.btnElement_.addEventListener("change",this.boundChangeHandler_),this.btnElement_.addEventListener("focus",this.boundFocusHandler_),this.btnElement_.addEventListener("blur",this.boundBlurHandler_),this.element_.addEventListener("mouseup",this.boundMouseUpHandler_),this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:p,classAsString:"MaterialRadio",cssClass:"mdl-js-radio",widget:!0});var m=function(e){this.element_=e,this.isIE_=window.navigator.msPointerEnabled,this.init()};window.MaterialSlider=m,m.prototype.Constant_={},m.prototype.CssClasses_={IE_CONTAINER:"mdl-slider__ie-container",SLIDER_CONTAINER:"mdl-slider__container",BACKGROUND_FLEX:"mdl-slider__background-flex",BACKGROUND_LOWER:"mdl-slider__background-lower",BACKGROUND_UPPER:"mdl-slider__background-upper",IS_LOWEST_VALUE:"is-lowest-value",IS_UPGRADED:"is-upgraded"},m.prototype.onInput_=function(e){this.updateValueStyles_()},m.prototype.onChange_=function(e){this.updateValueStyles_()},m.prototype.onMouseUp_=function(e){e.target.blur()},m.prototype.onContainerMouseDown_=function(e){if(e.target===this.element_.parentElement){e.preventDefault();var t=new MouseEvent("mousedown",{target:e.target,buttons:e.buttons,clientX:e.clientX,clientY:this.element_.getBoundingClientRect().y});this.element_.dispatchEvent(t)}},m.prototype.updateValueStyles_=function(){var e=(this.element_.value-this.element_.min)/(this.element_.max-this.element_.min);0===e?this.element_.classList.add(this.CssClasses_.IS_LOWEST_VALUE):this.element_.classList.remove(this.CssClasses_.IS_LOWEST_VALUE),this.isIE_||(this.backgroundLower_.style.flex=e,this.backgroundLower_.style.webkitFlex=e,this.backgroundUpper_.style.flex=1-e,this.backgroundUpper_.style.webkitFlex=1-e)},m.prototype.disable=function(){this.element_.disabled=!0},m.prototype.disable=m.prototype.disable,m.prototype.enable=function(){this.element_.disabled=!1},m.prototype.enable=m.prototype.enable,m.prototype.change=function(e){"undefined"!=typeof e&&(this.element_.value=e),this.updateValueStyles_()},m.prototype.change=m.prototype.change,m.prototype.init=function(){if(this.element_){if(this.isIE_){var e=document.createElement("div");e.classList.add(this.CssClasses_.IE_CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_)}else{var t=document.createElement("div");t.classList.add(this.CssClasses_.SLIDER_CONTAINER),this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_);var s=document.createElement("div");s.classList.add(this.CssClasses_.BACKGROUND_FLEX),t.appendChild(s),this.backgroundLower_=document.createElement("div"),this.backgroundLower_.classList.add(this.CssClasses_.BACKGROUND_LOWER),s.appendChild(this.backgroundLower_),this.backgroundUpper_=document.createElement("div"),this.backgroundUpper_.classList.add(this.CssClasses_.BACKGROUND_UPPER),s.appendChild(this.backgroundUpper_)}this.boundInputHandler=this.onInput_.bind(this),this.boundChangeHandler=this.onChange_.bind(this),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.boundContainerMouseDownHandler=this.onContainerMouseDown_.bind(this),this.element_.addEventListener("input",this.boundInputHandler),this.element_.addEventListener("change",this.boundChangeHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.element_.parentElement.addEventListener("mousedown",this.boundContainerMouseDownHandler),this.updateValueStyles_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},s.register({constructor:m,classAsString:"MaterialSlider",cssClass:"mdl-js-slider",widget:!0});var u=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=u,u.prototype.Constant_={ANIMATION_LENGTH:250},u.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},u.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},u.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},u.prototype.showSnackbar=u.prototype.showSnackbar,u.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},u.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},u.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},s.register({constructor:u,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var _=function(e){this.element_=e,this.init()};window.MaterialSpinner=_,_.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},_.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},_.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var n=[s,a,i],r=0;r<n.length;r++){var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),n[r].appendChild(o)}t.appendChild(s),t.appendChild(a),t.appendChild(i),this.element_.appendChild(t)},_.prototype.createLayer=_.prototype.createLayer,_.prototype.stop=function(){this.element_.classList.remove("is-active")},_.prototype.stop=_.prototype.stop,_.prototype.start=function(){this.element_.classList.add("is-active")},_.prototype.start=_.prototype.start,_.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},s.register({constructor:_,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0});var C=function(e){this.element_=e,this.init()};window.MaterialSwitch=C,C.prototype.Constant_={TINY_TIMEOUT:.001},C.prototype.CssClasses_={INPUT:"mdl-switch__input",TRACK:"mdl-switch__track",THUMB:"mdl-switch__thumb",FOCUS_HELPER:"mdl-switch__focus-helper",RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE_CONTAINER:"mdl-switch__ripple-container",RIPPLE_CENTER:"mdl-ripple--center",RIPPLE:"mdl-ripple",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},C.prototype.onChange_=function(e){this.updateClasses_()},C.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},C.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},C.prototype.onMouseUp_=function(e){this.blur_()},C.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},C.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},C.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},C.prototype.checkDisabled=C.prototype.checkDisabled,C.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},C.prototype.checkToggleState=C.prototype.checkToggleState,C.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},C.prototype.disable=C.prototype.disable,C.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},C.prototype.enable=C.prototype.enable,C.prototype.on=function(){this.inputElement_.checked=!0,this.updateClasses_()},C.prototype.on=C.prototype.on,C.prototype.off=function(){this.inputElement_.checked=!1,this.updateClasses_()},C.prototype.off=C.prototype.off,C.prototype.init=function(){if(this.element_){this.inputElement_=this.element_.querySelector("."+this.CssClasses_.INPUT);var e=document.createElement("div");e.classList.add(this.CssClasses_.TRACK);var t=document.createElement("div");t.classList.add(this.CssClasses_.THUMB);var s=document.createElement("span");if(s.classList.add(this.CssClasses_.FOCUS_HELPER),t.appendChild(s),this.element_.appendChild(e),this.element_.appendChild(t),this.boundMouseUpHandler=this.onMouseUp_.bind(this),this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement("span"),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.rippleContainerElement_.addEventListener("mouseup",this.boundMouseUpHandler);var a=document.createElement("span");a.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(a),this.element_.appendChild(this.rippleContainerElement_)}this.boundChangeHandler=this.onChange_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.inputElement_.addEventListener("change",this.boundChangeHandler),this.inputElement_.addEventListener("focus",this.boundFocusHandler),this.inputElement_.addEventListener("blur",this.boundBlurHandler),this.element_.addEventListener("mouseup",this.boundMouseUpHandler),this.updateClasses_(),this.element_.classList.add("is-upgraded")}},s.register({constructor:C,classAsString:"MaterialSwitch",cssClass:"mdl-js-switch",widget:!0});var g=function(e){this.element_=e,this.init()};window.MaterialTabs=g,g.prototype.Constant_={},g.prototype.CssClasses_={TAB_CLASS:"mdl-tabs__tab",PANEL_CLASS:"mdl-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",MDL_JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",MDL_RIPPLE_CONTAINER:"mdl-tabs__ripple-container",MDL_RIPPLE:"mdl-ripple",MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events"},g.prototype.initTabs_=function(){this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)&&this.element_.classList.add(this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element_.querySelectorAll("."+this.CssClasses_.TAB_CLASS),this.panels_=this.element_.querySelectorAll("."+this.CssClasses_.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new e(this.tabs_[t],this);this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS)},g.prototype.resetTabState_=function(){for(var e=0;e<this.tabs_.length;e++)this.tabs_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},g.prototype.resetPanelState_=function(){for(var e=0;e<this.panels_.length;e++)this.panels_[e].classList.remove(this.CssClasses_.ACTIVE_CLASS)},g.prototype.init=function(){this.element_&&this.initTabs_()},s.register({constructor:g,classAsString:"MaterialTabs",cssClass:"mdl-js-tabs"});var E=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=E,E.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},E.prototype.CssClasses_={LABEL:"mdl-textfield__label",
INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},E.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},E.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},E.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},E.prototype.onReset_=function(e){this.updateClasses_()},E.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},E.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},E.prototype.checkDisabled=E.prototype.checkDisabled,E.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},E.prototype.checkFocus=E.prototype.checkFocus,E.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},E.prototype.checkValidity=E.prototype.checkValidity,E.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},E.prototype.checkDirty=E.prototype.checkDirty,E.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},E.prototype.disable=E.prototype.disable,E.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},E.prototype.enable=E.prototype.enable,E.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},E.prototype.change=E.prototype.change,E.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},s.register({constructor:E,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0});var y=function(e){this.element_=e,this.init()};window.MaterialTooltip=y,y.prototype.Constant_={},y.prototype.CssClasses_={IS_ACTIVE:"is-active",BOTTOM:"mdl-tooltip--bottom",LEFT:"mdl-tooltip--left",RIGHT:"mdl-tooltip--right",TOP:"mdl-tooltip--top"},y.prototype.handleMouseEnter_=function(e){var t=e.target.getBoundingClientRect(),s=t.left+t.width/2,a=t.top+t.height/2,i=-1*(this.element_.offsetWidth/2),n=-1*(this.element_.offsetHeight/2);this.element_.classList.contains(this.CssClasses_.LEFT)||this.element_.classList.contains(this.CssClasses_.RIGHT)?(s=t.width/2,0>a+n?(this.element_.style.top=0,this.element_.style.marginTop=0):(this.element_.style.top=a+"px",this.element_.style.marginTop=n+"px")):0>s+i?(this.element_.style.left=0,this.element_.style.marginLeft=0):(this.element_.style.left=s+"px",this.element_.style.marginLeft=i+"px"),this.element_.classList.contains(this.CssClasses_.TOP)?this.element_.style.top=t.top-this.element_.offsetHeight-10+"px":this.element_.classList.contains(this.CssClasses_.RIGHT)?this.element_.style.left=t.left+t.width+10+"px":this.element_.classList.contains(this.CssClasses_.LEFT)?this.element_.style.left=t.left-this.element_.offsetWidth-10+"px":this.element_.style.top=t.top+t.height+10+"px",this.element_.classList.add(this.CssClasses_.IS_ACTIVE)},y.prototype.handleMouseLeave_=function(){this.element_.classList.remove(this.CssClasses_.IS_ACTIVE)},y.prototype.init=function(){if(this.element_){var e=this.element_.getAttribute("for");e&&(this.forElement_=document.getElementById(e)),this.forElement_&&(this.forElement_.hasAttribute("tabindex")||this.forElement_.setAttribute("tabindex","0"),this.boundMouseEnterHandler=this.handleMouseEnter_.bind(this),this.boundMouseLeaveHandler=this.handleMouseLeave_.bind(this),this.forElement_.addEventListener("mouseenter",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("touchend",this.boundMouseEnterHandler,!1),this.forElement_.addEventListener("mouseleave",this.boundMouseLeaveHandler,!1),window.addEventListener("touchstart",this.boundMouseLeaveHandler))}},s.register({constructor:y,classAsString:"MaterialTooltip",cssClass:"mdl-tooltip"});var f=function(e){this.element_=e,this.init()};window.MaterialLayout=f,f.prototype.Constant_={MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,MENU_ICON:"&#xE5D2;",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},f.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},f.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},f.prototype.CssClasses_={CONTAINER:"mdl-layout__container",HEADER:"mdl-layout__header",DRAWER:"mdl-layout__drawer",CONTENT:"mdl-layout__content",DRAWER_BTN:"mdl-layout__drawer-button",ICON:"material-icons",JS_RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-layout__tab-ripple-container",RIPPLE:"mdl-ripple",RIPPLE_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",HEADER_SEAMED:"mdl-layout__header--seamed",HEADER_WATERFALL:"mdl-layout__header--waterfall",HEADER_SCROLL:"mdl-layout__header--scroll",FIXED_HEADER:"mdl-layout--fixed-header",OBFUSCATOR:"mdl-layout__obfuscator",TAB_BAR:"mdl-layout__tab-bar",TAB_CONTAINER:"mdl-layout__tab-bar-container",TAB:"mdl-layout__tab",TAB_BAR_BUTTON:"mdl-layout__tab-bar-button",TAB_BAR_LEFT_BUTTON:"mdl-layout__tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"mdl-layout__tab-bar-right-button",PANEL:"mdl-layout__tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"mdl-layout--large-screen-only",ON_SMALL_SCREEN:"mdl-layout--small-screen-only"},f.prototype.contentScrollHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)||(this.content_.scrollTop>0&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):this.content_.scrollTop<=0&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING)))},f.prototype.keyboardEventHandler_=function(e){e.keyCode===this.Keycodes_.ESCAPE&&this.toggleDrawer()},f.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},f.prototype.drawerToggleHandler_=function(e){if(e&&"keydown"===e.type){if(e.keyCode!==this.Keycodes_.SPACE&&e.keyCode!==this.Keycodes_.ENTER)return;e.preventDefault()}this.toggleDrawer()},f.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},f.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},f.prototype.resetTabState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.resetPanelState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},f.prototype.toggleDrawer=function(){var e=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(this.drawer_.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"))},f.prototype.toggleDrawer=f.prototype.toggleDrawer,f.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.classList.add(this.CssClasses_.CONTAINER),this.element_.parentElement.insertBefore(e,this.element_),this.element_.parentElement.removeChild(this.element_),e.appendChild(this.element_);for(var s=this.element_.childNodes,a=s.length,i=0;a>i;i++){var n=s[i];n.classList&&n.classList.contains(this.CssClasses_.HEADER)&&(this.header_=n),n.classList&&n.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=n),n.classList&&n.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=n)}window.addEventListener("pageshow",function(e){e.persisted&&(this.element_.style.overflowY="hidden",requestAnimationFrame(function(){this.element_.style.overflowY=""}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector("."+this.CssClasses_.TAB_BAR));var r=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?r=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(r=this.Mode_.WATERFALL,this.header_.addEventListener("transitionend",this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener("click",this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(r=this.Mode_.SCROLL,e.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),r===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):r===this.Mode_.SEAMED||r===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):r===this.Mode_.WATERFALL&&(this.content_.addEventListener("scroll",this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var o=this.element_.querySelector("."+this.CssClasses_.DRAWER_BTN);if(!o){o=document.createElement("div"),o.setAttribute("aria-expanded","false"),o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.classList.add(this.CssClasses_.DRAWER_BTN);var l=document.createElement("i");l.classList.add(this.CssClasses_.ICON),l.innerHTML=this.Constant_.MENU_ICON,o.appendChild(l)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?o.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&o.classList.add(this.CssClasses_.ON_SMALL_SCREEN),o.addEventListener("click",this.drawerToggleHandler_.bind(this)),o.addEventListener("keydown",this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(o,this.header_.firstChild):this.element_.insertBefore(o,this.content_);var d=document.createElement("div");d.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(d),d.addEventListener("click",this.drawerToggleHandler_.bind(this)),this.obfuscator_=d,this.drawer_.addEventListener("keydown",this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute("aria-hidden","true")}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var c=document.createElement("div");c.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(c,this.tabBar_),this.header_.removeChild(this.tabBar_);var h=document.createElement("div");h.classList.add(this.CssClasses_.TAB_BAR_BUTTON),h.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var p=document.createElement("i");p.classList.add(this.CssClasses_.ICON),p.textContent=this.Constant_.CHEVRON_LEFT,h.appendChild(p),h.addEventListener("click",function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var m=document.createElement("div");m.classList.add(this.CssClasses_.TAB_BAR_BUTTON),m.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var u=document.createElement("i");u.classList.add(this.CssClasses_.ICON),u.textContent=this.Constant_.CHEVRON_RIGHT,m.appendChild(u),m.addEventListener("click",function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),c.appendChild(h),c.appendChild(this.tabBar_),c.appendChild(m);var _=function(){this.tabBar_.scrollLeft>0?h.classList.add(this.CssClasses_.IS_ACTIVE):h.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?m.classList.add(this.CssClasses_.IS_ACTIVE):m.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener("scroll",_),_(),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var C=this.tabBar_.querySelectorAll("."+this.CssClasses_.TAB),g=this.content_.querySelectorAll("."+this.CssClasses_.PANEL),E=0;E<C.length;E++)new t(C[E],C,g,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=t,s.register({constructor:f,classAsString:"MaterialLayout",cssClass:"mdl-js-layout"});var v=function(e){this.element_=e,this.init()};window.MaterialDataTable=v,v.prototype.Constant_={},v.prototype.CssClasses_={DATA_TABLE:"mdl-data-table",SELECTABLE:"mdl-data-table--selectable",SELECT_ELEMENT:"mdl-data-table__select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},v.prototype.selectRow_=function(e,t,s){return t?function(){e.checked?t.classList.add(this.CssClasses_.IS_SELECTED):t.classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):s?function(){var t,a;if(e.checked)for(t=0;t<s.length;t++)a=s[t].querySelector("td").querySelector(".mdl-checkbox"),a.MaterialCheckbox.check(),s[t].classList.add(this.CssClasses_.IS_SELECTED);else for(t=0;t<s.length;t++)a=s[t].querySelector("td").querySelector(".mdl-checkbox"),a.MaterialCheckbox.uncheck(),s[t].classList.remove(this.CssClasses_.IS_SELECTED)}.bind(this):void 0},v.prototype.createCheckbox_=function(e,t){var a=document.createElement("label"),i=["mdl-checkbox","mdl-js-checkbox","mdl-js-ripple-effect",this.CssClasses_.SELECT_ELEMENT];a.className=i.join(" ");var n=document.createElement("input");return n.type="checkbox",n.classList.add("mdl-checkbox__input"),e?(n.checked=e.classList.contains(this.CssClasses_.IS_SELECTED),n.addEventListener("change",this.selectRow_(n,e))):t&&n.addEventListener("change",this.selectRow_(n,null,t)),a.appendChild(n),s.upgradeElement(a,"MaterialCheckbox"),a},v.prototype.init=function(){if(this.element_){var e=this.element_.querySelector("th"),t=Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr")),s=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr")),a=t.concat(s);if(this.element_.classList.contains(this.CssClasses_.SELECTABLE)){var i=document.createElement("th"),n=this.createCheckbox_(null,a);i.appendChild(n),e.parentElement.insertBefore(i,e);for(var r=0;r<a.length;r++){var o=a[r].querySelector("td");if(o){var l=document.createElement("td");if("TBODY"===a[r].parentNode.nodeName.toUpperCase()){var d=this.createCheckbox_(a[r]);l.appendChild(d)}a[r].insertBefore(l,o)}}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}}},s.register({constructor:v,classAsString:"MaterialDataTable",cssClass:"mdl-js-data-table"});var L=function(e){this.element_=e,this.init()};window.MaterialRipple=L,L.prototype.Constant_={INITIAL_SCALE:"scale(0.0001, 0.0001)",INITIAL_SIZE:"1px",INITIAL_OPACITY:"0.4",FINAL_OPACITY:"0",FINAL_SCALE:""},L.prototype.CssClasses_={RIPPLE_CENTER:"mdl-ripple--center",RIPPLE_EFFECT_IGNORE_EVENTS:"mdl-js-ripple-effect--ignore-events",RIPPLE:"mdl-ripple",IS_ANIMATING:"is-animating",IS_VISIBLE:"is-visible"},L.prototype.downHandler_=function(e){if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var t=this.element_.getBoundingClientRect();this.boundHeight=t.height,this.boundWidth=t.width,this.rippleSize_=2*Math.sqrt(t.width*t.width+t.height*t.height)+2,this.rippleElement_.style.width=this.rippleSize_+"px",this.rippleElement_.style.height=this.rippleSize_+"px"}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),"mousedown"===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{"touchstart"===e.type&&(this.ignoringMouseDown_=!0);var s=this.getFrameCount();if(s>0)return;this.setFrameCount(1);var a,i,n=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)a=Math.round(n.width/2),i=Math.round(n.height/2);else{var r=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;a=Math.round(r-n.left),i=Math.round(o-n.top)}this.setRippleXY(a,i),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},L.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},L.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector("."+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener("mousedown",this.boundDownHandler),this.element_.addEventListener("touchstart",this.boundDownHandler),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundUpHandler),this.element_.addEventListener("mouseleave",this.boundUpHandler),this.element_.addEventListener("touchend",this.boundUpHandler),this.element_.addEventListener("blur",this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var s,a,i,n="translate("+this.x_+"px, "+this.y_+"px)";t?(a=this.Constant_.INITIAL_SCALE,i=this.Constant_.INITIAL_SIZE):(a=this.Constant_.FINAL_SCALE,i=this.rippleSize_+"px",e&&(n="translate("+this.boundWidth/2+"px, "+this.boundHeight/2+"px)")),s="translate(-50%, -50%) "+n+a,this.rippleElement_.style.webkitTransform=s,this.rippleElement_.style.msTransform=s,this.rippleElement_.style.transform=s,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},s.register({constructor:L,classAsString:"MaterialRipple",cssClass:"mdl-js-ripple-effect",widget:!1})}();