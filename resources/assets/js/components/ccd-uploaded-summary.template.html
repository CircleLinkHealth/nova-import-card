<div id="ccd-uploaded-summaries" class="mdl-grid">
    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width">
        <thead>
        <tr>
            <th class="mdl-data-table__cell--non-numeric">Import</th>
            <th class="mdl-data-table__cell--non-numeric">Edit</th>
            <th class="mdl-data-table__cell--non-numeric">Delete</th>
            <th class="mdl-data-table__cell--non-numeric">Name</th>
            <th class="mdl-data-table__cell--non-numeric">Duplicate User id</th>
            <th class="mdl-data-table__cell--non-numeric">CCDA id</th>
            <th class="mdl-data-table__cell--non-numeric">Provider</th>
            <th class="mdl-data-table__cell--non-numeric">Location</th>
            <th>Allergies</th>
            <th>Medications</th>
            <th>Problems</th>
            <th class="mdl-data-table__cell--non-numeric">Source</th>
            <th class="mdl-data-table__cell--non-numeric">Created At</th>
        </tr>
        </thead>
        <tbody>

        <tr v-for="qaSummary in qaSummaries" v-bind:class="{ 'flag': qaSummary.flag }"
            id="row-{{ qaSummary.ccda_id }}">

            <td id="import-row-{{ qaSummary.ccda_id }}">
                <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect"
                       for="import-{{ qaSummary.ccda_id }}" id="import-label-{{ qaSummary.ccda_id }}">
                    <input v-model="okToImport" value="{{ qaSummary.ccda_id }}" type="checkbox"
                           id="import-{{ qaSummary.ccda_id }}" class="mdl-checkbox__input"
                           v-on:click="toggleCheckboxes">
                    <span class="mdl-checkbox__label"></span>
                </label>
            </td>
            <td id="edit-row-{{ qaSummary.ccda_id }}" class="mdl-data-table__cell--non-numeric">
                <a href="/ccd-importer/uploaded-ccd-items/{{qaSummary.ccda_id}}/edit">Edit</a>
            </td>

            <td id="delete-row-{{ qaSummary.ccda_id }}">
                <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect"
                       for="delete-{{ qaSummary.ccda_id }}" id="delete-label-{{ qaSummary.ccda_id }}">
                    <input v-model="okToDelete" value="{{ qaSummary.ccda_id }}" type="checkbox"
                           id="delete-{{ qaSummary.ccda_id }}" class="mdl-switch__input"
                           v-on:click="toggleCheckboxes">
                    <span class="mdl-switch__label"></span>
                </label>
            </td>

            <td class="mdl-data-table__cell--non-numeric">{{ qaSummary.name }}</td>

            <td class="mdl-data-table__cell--non-numeric">
                <a v-if="qaSummary.duplicate_id" target="_blank" href="/manage-patients/{{ qaSummary.duplicate_id }}/summary">
                    {{ qaSummary.duplicate_id }}
                </a>
            </td>

            <td class="mdl-data-table__cell--non-numeric">{{ qaSummary.ccda_id }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ qaSummary.provider }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ qaSummary.location }}</td>
            <td>{{ qaSummary.allergies }}</td>
            <td>{{ qaSummary.medications }}</td>
            <td>{{ qaSummary.problems }}</td>

            <td v-if="qaSummary.ccda" class="mdl-data-table__cell--non-numeric">{{ qaSummary.ccda.source }}</td>
            <td v-else class="mdl-data-table__cell--non-numeric">N/A</td>
            <td v-if="qaSummary.ccda" class="mdl-data-table__cell--non-numeric">{{ qaSummary.ccda.created_at }}</td>
            <td v-else class="mdl-data-table__cell--non-numeric">N/A</td>
        </tr>
        </tbody>
    </table>


    <div v-bind:class="{ 'hide': tableHide }" class="mdl-typography--text-center mdl-cell mdl-cell--12-col">
        <mdl-button primary raised v-mdl-ripple-effect type="submit" v-on:click="syncCcds"
                    v-bind:disabled="!(okToImport.length + okToDelete.length)" id="syncCcdsBtn">
            Import/Delete Checked CCDs
        </mdl-button>
    </div>

</div>