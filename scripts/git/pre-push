#!/bin/sh

#echo 'Checking Javascript code quality...'
#jscs ./js
JSCS_EC=$?

echo 'Checking PHP code style...'
php -d memory_limit=2048M ./vendor/friendsofphp/php-cs-fixer/php-cs-fixer fix

#composer test
#COMPOSER_TEST_EC=$?

# npm test -- --silent
NPM_TEST_EC=$?

let "ERROR = $NPM_TEST_EC + $JSCS_EC"
# ERROR=$NPM_TEST_EC

if [ ${ERROR} -eq "0" ]
then
    echo "all good! üòç"
else
    echo "push aborted üëé | error $ERROR"
    exit ${ERROR}
fi